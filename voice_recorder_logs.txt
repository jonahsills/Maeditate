08-03 21:17:36.531   596  2048 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: Error initializing MediaRecorder
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{d60df70 5360:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 21:17:36.609  5360  5360 E VoiceRecorderService: 
08-03 21:17:38.997  5360  5360 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_211736.mp3
08-03 21:17:38.997  5360  5360 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_211736.mp3
08-03 21:17:38.997  5360  5360 D VoiceRecorderService: File exists: true, File size: 6759
08-03 21:17:38.997  5360  5415 D VoiceRecorderService: Starting AI processing for recording
08-03 21:17:38.997  5360  5415 D AIProcessingService: Starting AI processing for: recording_20250803_211736.mp3
08-03 21:17:38.997  5360  5415 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_211736.mp3
08-03 21:17:38.997  5360  5415 D AIProcessingService: Audio file exists: true
08-03 21:17:38.997  5360  5415 D AIProcessingService: Audio file size: 6759
08-03 21:17:38.997  5360  5415 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 21:17:38.997  5360  5415 D AIProcessingService: Transcription completed: Quick test recording.
08-03 21:17:39.015  5360  5427 E AIProcessingService: Error generating summary
08-03 21:17:39.015  5360  5427 E AIProcessingService: com.google.ai.client.generativeai.type.UnknownException: Something unexpected happened.
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.google.ai.client.generativeai.type.GoogleGenerativeAIException$Companion.from(Exceptions.kt:42)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel.generateContent(GenerativeModel.kt:77)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel$generateContent$1.invokeSuspend(Unknown Source:15)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 21:17:39.015  5360  5427 E AIProcessingService: Caused by: java.util.concurrent.CancellationException: Job was cancelled
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.engine.UtilsKt$attachToUserJob$cleanupHandler$1.invoke(Utils.kt:98)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.engine.UtilsKt$attachToUserJob$cleanupHandler$1.invoke(Utils.kt:96)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.invokeOnCompletion(JobSupport.kt:1529)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.Job$DefaultImpls.invokeOnCompletion$default(Job.kt:357)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngineKt.createCallContext(HttpClientEngine.kt:166)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$DefaultImpls.executeWithinCallContext(HttpClientEngine.kt:91)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$DefaultImpls.access$executeWithinCallContext(HttpClientEngine.kt:24)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$install$1.invokeSuspend(HttpClientEngine.kt:70)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$install$1.invoke(Unknown Source:15)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$install$1.invoke(Unknown Source:4)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$DefaultSender.execute(HttpSend.kt:138)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpTimeout$Plugin$install$1.invokeSuspend(HttpTimeout.kt:174)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpTimeout$Plugin$install$1.invoke(Unknown Source:15)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpTimeout$Plugin$install$1.invoke(Unknown Source:6)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$InterceptedSender.execute(HttpSend.kt:116)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpRedirect$Plugin$install$1.invokeSuspend(HttpRedirect.kt:64)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpRedirect$Plugin$install$1.invoke(Unknown Source:15)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpRedirect$Plugin$install$1.invoke(Unknown Source:6)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$InterceptedSender.execute(HttpSend.kt:116)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$3.invokeSuspend(HttpCallValidator.kt:151)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$3.invoke(Unknown Source:13)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$3.invoke(Unknown Source:6)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$InterceptedSender.execute(HttpSend.kt:116)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$Plugin$install$1.invokeSuspend(HttpSend.kt:104)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$Plugin$install$1.invoke(Unknown Source:15)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$Plugin$install$1.invoke(Unknown Source:4)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceedWith(SuspendFunctionGun.kt:88)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.DefaultTransformKt$defaultTransformers$1.invokeSuspend(DefaultTransform.kt:57)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.DefaultTransformKt$defaultTransformers$1.invoke(Unknown Source:11)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.DefaultTransformKt$defaultTransformers$1.invoke(Unknown Source:4)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceedWith(SuspendFunctionGun.kt:88)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.contentnegotiation.ContentNegotiation$Plugin$install$1.invokeSuspend(ContentNegotiation.kt:252)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.contentnegotiation.ContentNegotiation$Plugin$install$1.invoke(Unknown Source:11)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.contentnegotiation.ContentNegotiation$Plugin$install$1.invoke(Unknown Source:4)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceedWith(SuspendFunctionGun.kt:88)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$1.invokeSuspend(HttpCallValidator.kt:130)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$1.invoke(Unknown Source:13)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$1.invoke(Unknown Source:4)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpRequestLifecycle$Plugin$install$1.invokeSuspend(HttpRequestLifecycle.kt:38)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpRequestLifecycle$Plugin$install$1.invoke(Unknown Source:11)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.plugins.HttpRequestLifecycle$Plugin$install$1.invoke(Unknown Source:4)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.HttpClient.execute$ktor_client_core(HttpClient.kt:191)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.statement.HttpStatement.executeUnsafe(HttpStatement.kt:108)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.statement.HttpStatement.execute(HttpStatement.kt:47)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at io.ktor.client.statement.HttpStatement.execute(HttpStatement.kt:62)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.google.ai.client.generativeai.internal.api.APIController.generateContent(APIController.kt:171)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel.generateContent(GenerativeModel.kt:75)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel.generateContent(GenerativeModel.kt:100)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$generateSummary$2.invokeSuspend(AIProcessingService.kt:84)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$generateSummary$2.invoke(Unknown Source:8)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$generateSummary$2.invoke(Unknown Source:4)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.generateSummary(AIProcessingService.kt:74)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:36)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:122)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 21:17:39.015  5360  5427 E AIProcessingService: 	... 6 more
08-03 21:17:39.015  5360  5427 E AIProcessingService: Error in AI processing
08-03 21:17:39.015  5360  5427 E AIProcessingService: kotlinx.coroutines.JobCancellationException: Job was cancelled; job=SupervisorJobImpl{Cancelling}@a392782
08-03 21:17:39.016  5360  5427 D VoiceRecorderService: AI processing completed successfully
08-03 21:20:53.397   596  2295 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: Error initializing MediaRecorder
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{e7ba0d7 5545:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 21:20:53.469  5545  5545 E VoiceRecorderService: 
08-03 21:20:56.210  5545  5545 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212053.mp3
08-03 21:20:56.210  5545  5545 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212053.mp3
08-03 21:20:56.210  5545  5545 D VoiceRecorderService: File exists: true, File size: 7363
08-03 21:20:56.211  5545  5571 D VoiceRecorderService: Starting AI processing for recording
08-03 21:20:56.211  5545  5571 D AIProcessingService: Starting AI processing for: recording_20250803_212053.mp3
08-03 21:20:56.211  5545  5571 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212053.mp3
08-03 21:20:56.211  5545  5571 D AIProcessingService: Audio file exists: true
08-03 21:20:56.211  5545  5571 D AIProcessingService: Audio file size: 7363
08-03 21:20:56.211  5545  5571 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 21:20:56.211  5545  5571 D AIProcessingService: Transcription completed: Quick test recording.
08-03 21:20:56.232  5545  5570 E AIProcessingService: Error generating summary
08-03 21:20:56.232  5545  5570 E AIProcessingService: com.google.ai.client.generativeai.type.UnknownException: Something unexpected happened.
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at com.google.ai.client.generativeai.type.GoogleGenerativeAIException$Companion.from(Exceptions.kt:42)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel.generateContent(GenerativeModel.kt:77)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel$generateContent$1.invokeSuspend(Unknown Source:15)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 21:20:56.232  5545  5570 E AIProcessingService: Caused by: java.util.concurrent.CancellationException: Job was cancelled
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at io.ktor.client.engine.UtilsKt$attachToUserJob$cleanupHandler$1.invoke(Utils.kt:98)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at io.ktor.client.engine.UtilsKt$attachToUserJob$cleanupHandler$1.invoke(Utils.kt:96)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.InvokeOnCancelling.invoke(JobSupport.kt:1431)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.notifyCancelling(JobSupport.kt:1477)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.tryMakeCancelling(JobSupport.kt:799)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.makeCancelling(JobSupport.kt:759)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelImpl$kotlinx_coroutines_core(JobSupport.kt:675)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.parentCancelled(JobSupport.kt:641)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.ChildHandleNode.invoke(JobSupport.kt:1439)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.notifyCancelling(JobSupport.kt:1477)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.tryMakeCancelling(JobSupport.kt:799)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.makeCancelling(JobSupport.kt:759)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelImpl$kotlinx_coroutines_core(JobSupport.kt:675)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.parentCancelled(JobSupport.kt:641)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.ChildHandleNode.invoke(JobSupport.kt:1439)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.notifyCancelling(JobSupport.kt:1477)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.tryMakeCompletingSlowPath(JobSupport.kt:904)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.tryMakeCompleting(JobSupport.kt:867)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelMakeCompleting(JobSupport.kt:700)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelImpl$kotlinx_coroutines_core(JobSupport.kt:671)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelInternal(JobSupport.kt:636)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:621)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onDestroy(VoiceRecorderService.kt:155)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at android.app.ActivityThread.handleStopService(ActivityThread.java:5483)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at android.app.ActivityThread.-$$Nest$mhandleStopService(Unknown Source:0)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2661)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:20:56.232  5545  5570 E AIProcessingService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:20:56.233  5545  5570 E AIProcessingService: Error in AI processing
08-03 21:20:56.233  5545  5570 E AIProcessingService: kotlinx.coroutines.JobCancellationException: Job was cancelled; job=SupervisorJobImpl{Cancelling}@50b9e91
08-03 21:20:56.233  5545  5570 D VoiceRecorderService: AI processing completed successfully
08-03 21:21:11.151   596  1669 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: Error initializing MediaRecorder
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{a6a7658 5629:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 21:21:11.232  5629  5629 E VoiceRecorderService: 
08-03 21:21:14.349  5629  5629 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212111.mp3
08-03 21:21:14.349  5629  5629 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212111.mp3
08-03 21:21:14.349  5629  5629 D VoiceRecorderService: File exists: true, File size: 7950
08-03 21:21:14.350  5629  5654 D VoiceRecorderService: Starting AI processing for recording
08-03 21:21:14.350  5629  5654 D AIProcessingService: Starting AI processing for: recording_20250803_212111.mp3
08-03 21:21:14.350  5629  5654 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212111.mp3
08-03 21:21:14.350  5629  5654 D AIProcessingService: Audio file exists: true
08-03 21:21:14.350  5629  5654 D AIProcessingService: Audio file size: 7950
08-03 21:21:14.350  5629  5654 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 21:21:14.350  5629  5654 D AIProcessingService: Transcription completed: Quick test recording.
08-03 21:21:14.369  5629  5655 E AIProcessingService: Error generating summary
08-03 21:21:14.369  5629  5655 E AIProcessingService: com.google.ai.client.generativeai.type.UnknownException: Something unexpected happened.
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at com.google.ai.client.generativeai.type.GoogleGenerativeAIException$Companion.from(Exceptions.kt:42)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel.generateContent(GenerativeModel.kt:77)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel$generateContent$1.invokeSuspend(Unknown Source:15)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 21:21:14.369  5629  5655 E AIProcessingService: Caused by: java.util.concurrent.CancellationException: Job was cancelled
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.engine.UtilsKt$attachToUserJob$cleanupHandler$1.invoke(Utils.kt:98)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.engine.UtilsKt$attachToUserJob$cleanupHandler$1.invoke(Utils.kt:96)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.invokeOnCompletion(JobSupport.kt:1529)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.Job$DefaultImpls.invokeOnCompletion$default(Job.kt:357)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngineKt.createCallContext(HttpClientEngine.kt:166)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$DefaultImpls.executeWithinCallContext(HttpClientEngine.kt:91)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$DefaultImpls.access$executeWithinCallContext(HttpClientEngine.kt:24)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$install$1.invokeSuspend(HttpClientEngine.kt:70)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$install$1.invoke(Unknown Source:15)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.engine.HttpClientEngine$install$1.invoke(Unknown Source:4)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$DefaultSender.execute(HttpSend.kt:138)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpTimeout$Plugin$install$1.invokeSuspend(HttpTimeout.kt:174)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpTimeout$Plugin$install$1.invoke(Unknown Source:15)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpTimeout$Plugin$install$1.invoke(Unknown Source:6)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$InterceptedSender.execute(HttpSend.kt:116)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpRedirect$Plugin$install$1.invokeSuspend(HttpRedirect.kt:64)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpRedirect$Plugin$install$1.invoke(Unknown Source:15)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpRedirect$Plugin$install$1.invoke(Unknown Source:6)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$InterceptedSender.execute(HttpSend.kt:116)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$3.invokeSuspend(HttpCallValidator.kt:151)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$3.invoke(Unknown Source:13)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$3.invoke(Unknown Source:6)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$InterceptedSender.execute(HttpSend.kt:116)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$Plugin$install$1.invokeSuspend(HttpSend.kt:104)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$Plugin$install$1.invoke(Unknown Source:15)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpSend$Plugin$install$1.invoke(Unknown Source:4)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:21:14.369  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceedWith(SuspendFunctionGun.kt:88)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.DefaultTransformKt$defaultTransformers$1.invokeSuspend(DefaultTransform.kt:57)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.DefaultTransformKt$defaultTransformers$1.invoke(Unknown Source:11)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.DefaultTransformKt$defaultTransformers$1.invoke(Unknown Source:4)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceedWith(SuspendFunctionGun.kt:88)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.contentnegotiation.ContentNegotiation$Plugin$install$1.invokeSuspend(ContentNegotiation.kt:252)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.contentnegotiation.ContentNegotiation$Plugin$install$1.invoke(Unknown Source:11)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.contentnegotiation.ContentNegotiation$Plugin$install$1.invoke(Unknown Source:4)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceedWith(SuspendFunctionGun.kt:88)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$1.invokeSuspend(HttpCallValidator.kt:130)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$1.invoke(Unknown Source:13)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpCallValidator$Companion$install$1.invoke(Unknown Source:4)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpRequestLifecycle$Plugin$install$1.invokeSuspend(HttpRequestLifecycle.kt:38)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpRequestLifecycle$Plugin$install$1.invoke(Unknown Source:11)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.plugins.HttpRequestLifecycle$Plugin$install$1.invoke(Unknown Source:4)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.HttpClient.execute$ktor_client_core(HttpClient.kt:191)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.statement.HttpStatement.executeUnsafe(HttpStatement.kt:108)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.statement.HttpStatement.execute(HttpStatement.kt:47)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at io.ktor.client.statement.HttpStatement.execute(HttpStatement.kt:62)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.google.ai.client.generativeai.internal.api.APIController.generateContent(APIController.kt:171)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel.generateContent(GenerativeModel.kt:75)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel.generateContent(GenerativeModel.kt:100)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$generateSummary$2.invokeSuspend(AIProcessingService.kt:84)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$generateSummary$2.invoke(Unknown Source:8)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$generateSummary$2.invoke(Unknown Source:4)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.generateSummary(AIProcessingService.kt:74)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:36)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:122)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 21:21:14.370  5629  5655 E AIProcessingService: 	... 6 more
08-03 21:21:14.370  5629  5655 E AIProcessingService: Error in AI processing
08-03 21:21:14.370  5629  5655 E AIProcessingService: kotlinx.coroutines.JobCancellationException: Job was cancelled; job=SupervisorJobImpl{Cancelling}@b557ed0
08-03 21:21:14.370  5629  5655 D VoiceRecorderService: AI processing completed successfully
08-03 21:22:10.109   596  1719 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: Error initializing MediaRecorder
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{a6a7658 5629:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 21:22:10.183  5629  5629 E VoiceRecorderService: 
08-03 21:22:14.414  5629  5629 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212210.mp3
08-03 21:22:14.414  5629  5629 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212210.mp3
08-03 21:22:14.415  5629  5629 D VoiceRecorderService: File exists: true, File size: 9506
08-03 21:22:14.415  5629  5655 D VoiceRecorderService: Starting AI processing for recording
08-03 21:22:14.415  5629  5655 D AIProcessingService: Starting AI processing for: recording_20250803_212210.mp3
08-03 21:22:14.415  5629  5655 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212210.mp3
08-03 21:22:14.415  5629  5655 D AIProcessingService: Audio file exists: true
08-03 21:22:14.415  5629  5655 D AIProcessingService: Audio file size: 9506
08-03 21:22:14.415  5629  5655 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 21:22:14.415  5629  5655 D AIProcessingService: Transcription completed: Quick test recording.
08-03 21:22:14.427  5629  5656 E AIProcessingService: Error generating summary
08-03 21:22:14.427  5629  5656 E AIProcessingService: com.google.ai.client.generativeai.type.UnknownException: Something unexpected happened.
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at com.google.ai.client.generativeai.type.GoogleGenerativeAIException$Companion.from(Exceptions.kt:42)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel.generateContent(GenerativeModel.kt:77)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at com.google.ai.client.generativeai.GenerativeModel$generateContent$1.invokeSuspend(Unknown Source:15)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 21:22:14.427  5629  5656 E AIProcessingService: Caused by: java.util.concurrent.CancellationException: Job was cancelled
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at io.ktor.client.engine.UtilsKt$attachToUserJob$cleanupHandler$1.invoke(Utils.kt:98)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at io.ktor.client.engine.UtilsKt$attachToUserJob$cleanupHandler$1.invoke(Utils.kt:96)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.InvokeOnCancelling.invoke(JobSupport.kt:1431)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.notifyCancelling(JobSupport.kt:1477)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.tryMakeCancelling(JobSupport.kt:799)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.makeCancelling(JobSupport.kt:759)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelImpl$kotlinx_coroutines_core(JobSupport.kt:675)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.parentCancelled(JobSupport.kt:641)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.ChildHandleNode.invoke(JobSupport.kt:1439)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.notifyCancelling(JobSupport.kt:1477)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.tryMakeCancelling(JobSupport.kt:799)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.makeCancelling(JobSupport.kt:759)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelImpl$kotlinx_coroutines_core(JobSupport.kt:675)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.parentCancelled(JobSupport.kt:641)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.ChildHandleNode.invoke(JobSupport.kt:1439)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.notifyCancelling(JobSupport.kt:1477)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.tryMakeCompletingSlowPath(JobSupport.kt:904)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.tryMakeCompleting(JobSupport.kt:867)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelMakeCompleting(JobSupport.kt:700)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelImpl$kotlinx_coroutines_core(JobSupport.kt:671)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancelInternal(JobSupport.kt:636)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:621)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onDestroy(VoiceRecorderService.kt:155)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at android.app.ActivityThread.handleStopService(ActivityThread.java:5483)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at android.app.ActivityThread.-$$Nest$mhandleStopService(Unknown Source:0)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2661)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:22:14.427  5629  5656 E AIProcessingService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:22:14.428  5629  5656 E AIProcessingService: Error in AI processing
08-03 21:22:14.428  5629  5656 E AIProcessingService: kotlinx.coroutines.JobCancellationException: Job was cancelled; job=SupervisorJobImpl{Cancelling}@66e3c00
08-03 21:22:14.428  5629  5656 D VoiceRecorderService: AI processing completed successfully
08-03 21:23:58.151   596   669 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: Error initializing MediaRecorder
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{5f90580 5810:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 21:23:58.229  5810  5810 E VoiceRecorderService: 
08-03 21:24:00.999  5810  5810 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212358.mp3
08-03 21:24:00.999  5810  5810 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212358.mp3
08-03 21:24:00.999  5810  5810 D VoiceRecorderService: File exists: true, File size: 7332
08-03 21:24:01.000  5810  5837 D VoiceRecorderService: Starting AI processing for recording
08-03 21:24:01.000  5810  5837 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 21:24:01.000  5810  5837 D AIProcessingService: Audio file: recording_20250803_212358.mp3
08-03 21:24:01.000  5810  5837 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212358.mp3
08-03 21:24:01.000  5810  5837 D AIProcessingService: Audio file exists: true
08-03 21:24:01.000  5810  5837 D AIProcessingService: Audio file size: 7332
08-03 21:24:01.000  5810  5837 D AIProcessingService: Starting transcription...
08-03 21:24:01.000  5810  5837 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 21:24:01.000  5810  5837 D AIProcessingService: Transcription completed: Quick test recording.
08-03 21:24:01.000  5810  5837 D AIProcessingService: Starting AI summary generation...
08-03 21:24:01.001  5810  5837 D AIProcessingService: Creating prompt for Gemini API...
08-03 21:24:01.003  5810  5837 D AIProcessingService: Sending request to Gemini API...
08-03 21:24:01.003  5810  5837 D AIProcessingService: API key length: 39
08-03 21:24:01.003  5810  5837 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 21:24:01.232  5810  5837 E AIProcessingService: === GEMINI API ERROR ===
08-03 21:24:01.232  5810  5837 E AIProcessingService: com.google.ai.client.generativeai.type.ServerException: models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at com.google.ai.client.generativeai.internal.api.APIControllerKt.validateResponse(APIController.kt:163)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at com.google.ai.client.generativeai.internal.api.APIControllerKt.access$validateResponse(APIController.kt:1)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at com.google.ai.client.generativeai.internal.api.APIController.generateContent(APIController.kt:81)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at com.google.ai.client.generativeai.internal.api.APIController$generateContent$1.invokeSuspend(Unknown Source:15)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 21:24:01.232  5810  5837 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 21:24:01.232  5810  5837 E AIProcessingService: Error type: ServerException
08-03 21:24:01.232  5810  5837 E AIProcessingService: Error message: models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
08-03 21:24:01.232  5810  5837 D AIProcessingService: AI Summary completed: Error generating summary: models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
08-03 21:24:01.232  5810  5837 D AIProcessingService: Starting file save...
08-03 21:24:01.232  5810  5837 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 21:24:01.232  5810  5837 D AIProcessingService: saveToLocalFile called with summary: Error generating summary: models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
08-03 21:24:01.232  5810  5837 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 21:24:01.232  5810  5837 D AIProcessingService: File exists before: false
08-03 21:24:01.233  5810  5837 D AIProcessingService: Entry to append: 
08-03 21:24:01.233  5810  5837 D AIProcessingService: [2025-08-03 21:24:01]
08-03 21:24:01.233  5810  5837 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 21:24:01.233  5810  5837 D AIProcessingService: AI SUMMARY: Error generating summary: models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
08-03 21:24:01.233  5810  5837 D AIProcessingService: ---
08-03 21:24:01.233  5810  5837 D AIProcessingService: File doesn't exist, creating new file
08-03 21:24:01.234  5810  5837 D AIProcessingService: File exists after: true
08-03 21:24:01.234  5810  5837 D AIProcessingService: File size after: 299 bytes
08-03 21:24:01.234  5810  5837 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 21:24:01.234  5810  5837 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 21:24:01.234  5810  5837 D VoiceRecorderService: AI processing completed successfully
08-03 21:24:56.533   596  2048 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: Error initializing MediaRecorder
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{9fad774 5902:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 21:24:56.618  5902  5902 E VoiceRecorderService: 
08-03 21:24:59.716  5902  5902 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212456.mp3
08-03 21:24:59.716  5902  5902 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212456.mp3
08-03 21:24:59.716  5902  5902 D VoiceRecorderService: File exists: true, File size: 7947
08-03 21:24:59.717  5902  5926 D VoiceRecorderService: Starting AI processing for recording
08-03 21:24:59.717  5902  5926 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 21:24:59.717  5902  5926 D AIProcessingService: Audio file: recording_20250803_212456.mp3
08-03 21:24:59.717  5902  5926 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212456.mp3
08-03 21:24:59.717  5902  5926 D AIProcessingService: Audio file exists: true
08-03 21:24:59.717  5902  5926 D AIProcessingService: Audio file size: 7947
08-03 21:24:59.717  5902  5926 D AIProcessingService: Starting transcription...
08-03 21:24:59.717  5902  5926 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 21:24:59.717  5902  5926 D AIProcessingService: Transcription completed: Quick test recording.
08-03 21:24:59.717  5902  5926 D AIProcessingService: Starting AI summary generation...
08-03 21:24:59.717  5902  5926 D AIProcessingService: Creating prompt for Gemini API...
08-03 21:24:59.720  5902  5926 D AIProcessingService: Sending request to Gemini API...
08-03 21:24:59.720  5902  5926 D AIProcessingService: API key length: 39
08-03 21:24:59.720  5902  5926 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 21:25:45.466  5902  5928 D AIProcessingService: Gemini API response received successfully
08-03 21:25:45.466  5902  5928 D AIProcessingService: Generated summary: The provided text is simply "Quick test recording," indicating that the text is a placeholder or a brief description of a recording made for testing purposes.  No further information or content is available for summarization.
08-03 21:25:45.466  5902  5928 D AIProcessingService: AI Summary completed: The provided text is simply "Quick test recording," indicating that the text is a placeholder or a brief description of a recording made for testing purposes.  No further information or content is available for summarization.
08-03 21:25:45.466  5902  5928 D AIProcessingService: Starting file save...
08-03 21:25:45.466  5902  5928 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 21:25:45.466  5902  5928 D AIProcessingService: saveToLocalFile called with summary: The provided text is simply "Quick test recording," indicating that the text is a placeholder or a brief description of a recording made for testing purposes.  No further information or content is available for summarization.
08-03 21:25:45.467  5902  5928 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 21:25:45.468  5902  5928 D AIProcessingService: File exists before: true
08-03 21:25:45.471  5902  5928 D AIProcessingService: Entry to append: 
08-03 21:25:45.471  5902  5928 D AIProcessingService: [2025-08-03 21:25:45]
08-03 21:25:45.471  5902  5928 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 21:25:45.471  5902  5928 D AIProcessingService: AI SUMMARY: The provided text is simply "Quick test recording," indicating that the text is a placeholder or a brief description of a recording made for testing purposes.  No further information or content is available for summarization.
08-03 21:25:45.471  5902  5928 D AIProcessingService: 
08-03 21:25:45.471  5902  5928 D AIProcessingService: ---
08-03 21:25:45.471  5902  5928 D AIProcessingService: File exists, appending to existing file
08-03 21:25:45.473  5902  5928 D AIProcessingService: File exists after: true
08-03 21:25:45.473  5902  5928 D AIProcessingService: File size after: 602 bytes
08-03 21:25:45.473  5902  5928 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 21:25:45.473  5902  5928 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 21:25:45.473  5902  5928 D VoiceRecorderService: AI processing completed successfully
08-03 21:26:41.551   596  1060 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: Error initializing MediaRecorder
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{49d97f0 6035:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 21:26:41.635  6035  6035 E VoiceRecorderService: 
08-03 21:26:44.864  6035  6035 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212641.mp3
08-03 21:26:44.864  6035  6035 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212641.mp3
08-03 21:26:44.865  6035  6035 D VoiceRecorderService: File exists: true, File size: 7952
08-03 21:26:44.865  6035  6060 D VoiceRecorderService: Starting AI processing for recording
08-03 21:26:44.866  6035  6060 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 21:26:44.866  6035  6060 D AIProcessingService: Audio file: recording_20250803_212641.mp3
08-03 21:26:44.866  6035  6060 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_212641.mp3
08-03 21:26:44.866  6035  6060 D AIProcessingService: Audio file exists: true
08-03 21:26:44.866  6035  6060 D AIProcessingService: Audio file size: 7952
08-03 21:26:44.866  6035  6060 D AIProcessingService: Starting transcription...
08-03 21:26:44.866  6035  6060 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 21:26:44.866  6035  6060 D AIProcessingService: Transcription completed: Quick test recording.
08-03 21:26:44.866  6035  6060 D AIProcessingService: Starting AI summary generation...
08-03 21:26:44.866  6035  6060 D AIProcessingService: Creating prompt for Gemini API...
08-03 21:26:44.869  6035  6060 D AIProcessingService: Sending request to Gemini API...
08-03 21:26:44.869  6035  6060 D AIProcessingService: API key length: 39
08-03 21:26:44.869  6035  6060 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 21:26:45.645  6035  6085 D AIProcessingService: Gemini API response received successfully
08-03 21:26:45.645  6035  6085 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no summary to provide beyond that a test recording was made.
08-03 21:26:45.645  6035  6085 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no summary to provide beyond that a test recording was made.
08-03 21:26:45.645  6035  6085 D AIProcessingService: Starting file save...
08-03 21:26:45.645  6035  6085 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 21:26:45.645  6035  6085 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no summary to provide beyond that a test recording was made.
08-03 21:26:45.645  6035  6085 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 21:26:45.646  6035  6085 D AIProcessingService: File exists before: true
08-03 21:26:45.647  6035  6085 D AIProcessingService: Entry to append: 
08-03 21:26:45.647  6035  6085 D AIProcessingService: [2025-08-03 21:26:45]
08-03 21:26:45.647  6035  6085 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 21:26:45.647  6035  6085 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no summary to provide beyond that a test recording was made.
08-03 21:26:45.647  6035  6085 D AIProcessingService: 
08-03 21:26:45.647  6035  6085 D AIProcessingService: ---
08-03 21:26:45.647  6035  6085 D AIProcessingService: File exists, appending to existing file
08-03 21:26:45.649  6035  6085 D AIProcessingService: File exists after: true
08-03 21:26:45.649  6035  6085 D AIProcessingService: File size after: 853 bytes
08-03 21:26:45.649  6035  6085 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 21:26:45.649  6035  6085 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 21:26:45.649  6035  6085 D VoiceRecorderService: AI processing completed successfully
08-03 21:59:17.047   596   898 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: Error initializing MediaRecorder
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{8122837 6517:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 21:59:17.129  6517  6517 E VoiceRecorderService: 
08-03 21:59:20.447  6517  6517 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_215917.m4a
08-03 21:59:20.447  6517  6517 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_215917.m4a
08-03 21:59:20.447  6517  6517 D VoiceRecorderService: File exists: true, File size: 8184
08-03 21:59:20.448  6517  6563 D VoiceRecorderService: Starting AI processing for recording
08-03 21:59:20.448  6517  6563 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 21:59:20.448  6517  6563 D AIProcessingService: Audio file: recording_20250803_215917.m4a
08-03 21:59:20.448  6517  6563 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_215917.m4a
08-03 21:59:20.448  6517  6563 D AIProcessingService: Audio file exists: true
08-03 21:59:20.448  6517  6563 D AIProcessingService: Audio file size: 8184
08-03 21:59:20.448  6517  6563 D AIProcessingService: Starting transcription...
08-03 21:59:20.448  6517  6563 D AIProcessingService: Starting real audio transcription with Vosk...
08-03 21:59:20.448  6517  6563 D AIProcessingService: Attempting Vosk transcription...
08-03 21:59:21.007  6517  6563 D AIProcessingService: Vosk final result: {
08-03 21:59:21.007  6517  6563 D AIProcessingService:   "text" : ""
08-03 21:59:21.007  6517  6563 D AIProcessingService: }
08-03 21:59:21.028  6517  6563 D AIProcessingService: Using simulated transcription as fallback...
08-03 21:59:21.028  6517  6563 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 21:59:21.028  6517  6563 D AIProcessingService: Transcription completed: Quick test recording.
08-03 21:59:21.028  6517  6563 D AIProcessingService: Starting AI summary generation...
08-03 21:59:21.029  6517  6563 D AIProcessingService: Creating prompt for Gemini API...
08-03 21:59:21.031  6517  6563 D AIProcessingService: Sending request to Gemini API...
08-03 21:59:21.031  6517  6563 D AIProcessingService: API key length: 39
08-03 21:59:21.031  6517  6563 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 21:59:21.991  6517  7107 D AIProcessingService: Gemini API response received successfully
08-03 21:59:21.992  6517  7107 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no summary to be provided as no content was presented.
08-03 21:59:21.992  6517  7107 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no summary to be provided as no content was presented.
08-03 21:59:21.992  6517  7107 D AIProcessingService: Starting file save...
08-03 21:59:21.992  6517  7107 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 21:59:21.992  6517  7107 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no summary to be provided as no content was presented.
08-03 21:59:21.993  6517  7107 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 21:59:21.993  6517  7107 D AIProcessingService: File exists before: false
08-03 21:59:21.994  6517  7107 D AIProcessingService: Entry to append: 
08-03 21:59:21.994  6517  7107 D AIProcessingService: [2025-08-03 21:59:21]
08-03 21:59:21.994  6517  7107 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 21:59:21.994  6517  7107 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no summary to be provided as no content was presented.
08-03 21:59:21.994  6517  7107 D AIProcessingService: 
08-03 21:59:21.994  6517  7107 D AIProcessingService: ---
08-03 21:59:21.994  6517  7107 D AIProcessingService: File doesn't exist, creating new file
08-03 21:59:21.995  6517  7107 D AIProcessingService: File exists after: true
08-03 21:59:21.995  6517  7107 D AIProcessingService: File size after: 269 bytes
08-03 21:59:21.995  6517  7107 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 21:59:21.995  6517  7107 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 21:59:21.995  6517  7107 D VoiceRecorderService: AI processing completed successfully
08-03 22:00:51.125   596   967 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{d2ac390 7224:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:00:51.214  7224  7224 E VoiceRecorderService: 
08-03 22:00:54.765  7224  7224 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220051.m4a
08-03 22:00:54.765  7224  7224 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220051.m4a
08-03 22:00:54.765  7224  7224 D VoiceRecorderService: File exists: true, File size: 8525
08-03 22:00:54.766  7224  7249 D VoiceRecorderService: Starting AI processing for recording
08-03 22:00:54.766  7224  7249 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:00:54.766  7224  7249 D AIProcessingService: Audio file: recording_20250803_220051.m4a
08-03 22:00:54.766  7224  7249 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220051.m4a
08-03 22:00:54.766  7224  7249 D AIProcessingService: Audio file exists: true
08-03 22:00:54.766  7224  7249 D AIProcessingService: Audio file size: 8525
08-03 22:00:54.766  7224  7249 D AIProcessingService: Starting transcription...
08-03 22:00:54.766  7224  7249 D AIProcessingService: Starting real audio transcription with Vosk...
08-03 22:00:54.766  7224  7249 D AIProcessingService: === VOSK TRANSCRIPTION STARTED ===
08-03 22:00:54.766  7224  7249 D AIProcessingService: Audio file: recording_20250803_220051.m4a
08-03 22:00:54.766  7224  7249 D AIProcessingService: Audio file size: 8525 bytes
08-03 22:00:54.766  7224  7249 D AIProcessingService: Model directory: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/vosk-model-small-en-us-0.15
08-03 22:00:54.767  7224  7249 D AIProcessingService: Model directory exists: true
08-03 22:00:54.767  7224  7249 D AIProcessingService: Model directory contains 5 files
08-03 22:00:54.767  7224  7249 D AIProcessingService: Model file: am
08-03 22:00:54.767  7224  7249 D AIProcessingService: Model file: conf
08-03 22:00:54.767  7224  7249 D AIProcessingService: Model file: graph
08-03 22:00:54.767  7224  7249 D AIProcessingService: Model file: README
08-03 22:00:54.767  7224  7249 D AIProcessingService: Model file: ivector
08-03 22:00:54.767  7224  7249 D AIProcessingService: Loading Vosk model...
08-03 22:00:55.109  7224  7249 D AIProcessingService: Vosk model loaded successfully
08-03 22:00:55.151  7224  7249 D AIProcessingService: Vosk recognizer created
08-03 22:00:55.151  7224  7249 D AIProcessingService: Audio file opened for reading
08-03 22:00:55.151  7224  7249 D AIProcessingService: Starting audio processing...
08-03 22:00:55.152  7224  7249 D AIProcessingService: Total bytes processed: 9117
08-03 22:00:55.224  7224  7249 D AIProcessingService: Vosk final result: {
08-03 22:00:55.224  7224  7249 D AIProcessingService:   "text" : ""
08-03 22:00:55.224  7224  7249 D AIProcessingService: }
08-03 22:00:55.224  7224  7249 D AIProcessingService: Parsed transcription:  
08-03 22:00:55.241  7224  7249 D AIProcessingService: Vosk resources cleaned up
08-03 22:00:55.242  7224  7249 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:00:55.242  7224  7249 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:00:55.242  7224  7249 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:00:55.242  7224  7249 D AIProcessingService: Starting AI summary generation...
08-03 22:00:55.242  7224  7249 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:00:55.245  7224  7249 D AIProcessingService: Sending request to Gemini API...
08-03 22:00:55.245  7224  7249 D AIProcessingService: API key length: 39
08-03 22:00:55.245  7224  7249 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:00:56.034  7224  7250 D AIProcessingService: Gemini API response received successfully
08-03 22:00:56.035  7224  7250 D AIProcessingService: Generated summary: The provided text is simply "Quick test recording."  Therefore, the text indicates a brief, informal audio or video recording was made for testing purposes.  No further information or content is available from the provided text.
08-03 22:00:56.035  7224  7250 D AIProcessingService: AI Summary completed: The provided text is simply "Quick test recording."  Therefore, the text indicates a brief, informal audio or video recording was made for testing purposes.  No further information or content is available from the provided text.
08-03 22:00:56.035  7224  7250 D AIProcessingService: Starting file save...
08-03 22:00:56.035  7224  7250 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:00:56.035  7224  7250 D AIProcessingService: saveToLocalFile called with summary: The provided text is simply "Quick test recording."  Therefore, the text indicates a brief, informal audio or video recording was made for testing purposes.  No further information or content is available from the provided text.
08-03 22:00:56.035  7224  7250 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:00:56.035  7224  7250 D AIProcessingService: File exists before: true
08-03 22:00:56.036  7224  7250 D AIProcessingService: Entry to append: 
08-03 22:00:56.036  7224  7250 D AIProcessingService: [2025-08-03 22:00:56]
08-03 22:00:56.036  7224  7250 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:00:56.036  7224  7250 D AIProcessingService: AI SUMMARY: The provided text is simply "Quick test recording."  Therefore, the text indicates a brief, informal audio or video recording was made for testing purposes.  No further information or content is available from the provided text.
08-03 22:00:56.036  7224  7250 D AIProcessingService: 
08-03 22:00:56.036  7224  7250 D AIProcessingService: ---
08-03 22:00:56.037  7224  7250 D AIProcessingService: File exists, appending to existing file
08-03 22:00:56.037  7224  7250 D AIProcessingService: File exists after: true
08-03 22:00:56.037  7224  7250 D AIProcessingService: File size after: 575 bytes
08-03 22:00:56.037  7224  7250 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:00:56.037  7224  7250 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:00:56.037  7224  7250 D VoiceRecorderService: AI processing completed successfully
08-03 22:05:02.929   596  2295 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{a41b0f7 7832:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:90)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:05:03.022  7832  7832 E VoiceRecorderService: 
08-03 22:05:04.902  7832  7832 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220502.3gp
08-03 22:05:04.902  7832  7832 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220502.3gp
08-03 22:05:04.902  7832  7832 D VoiceRecorderService: File exists: true, File size: 6176
08-03 22:05:04.903  7832  7856 D VoiceRecorderService: Starting AI processing for recording
08-03 22:05:04.903  7832  7856 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:05:04.903  7832  7856 D AIProcessingService: Audio file: recording_20250803_220502.3gp
08-03 22:05:04.903  7832  7856 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220502.3gp
08-03 22:05:04.903  7832  7856 D AIProcessingService: Audio file exists: true
08-03 22:05:04.903  7832  7856 D AIProcessingService: Audio file size: 6176
08-03 22:05:04.903  7832  7856 D AIProcessingService: Starting transcription...
08-03 22:05:04.903  7832  7856 D AIProcessingService: Starting real audio transcription with Vosk...
08-03 22:05:04.904  7832  7856 D AIProcessingService: === VOSK TRANSCRIPTION STARTED ===
08-03 22:05:04.904  7832  7856 D AIProcessingService: Audio file: recording_20250803_220502.3gp
08-03 22:05:04.904  7832  7856 D AIProcessingService: Audio file size: 6176 bytes
08-03 22:05:04.904  7832  7856 D AIProcessingService: Model directory: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/vosk-model-small-en-us-0.15
08-03 22:05:04.904  7832  7856 D AIProcessingService: Model directory exists: true
08-03 22:05:04.904  7832  7856 D AIProcessingService: Model directory contains 5 files
08-03 22:05:04.904  7832  7856 D AIProcessingService: Model file: am
08-03 22:05:04.904  7832  7856 D AIProcessingService: Model file: conf
08-03 22:05:04.904  7832  7856 D AIProcessingService: Model file: graph
08-03 22:05:04.904  7832  7856 D AIProcessingService: Model file: README
08-03 22:05:04.904  7832  7856 D AIProcessingService: Model file: ivector
08-03 22:05:04.904  7832  7856 D AIProcessingService: Loading Vosk model...
08-03 22:05:05.279  7832  7856 D AIProcessingService: Vosk model loaded successfully
08-03 22:05:05.322  7832  7856 D AIProcessingService: Vosk recognizer created
08-03 22:05:05.322  7832  7856 D AIProcessingService: Processing 3GP file with Vosk...
08-03 22:05:05.323  7832  7856 D AIProcessingService: Starting audio processing...
08-03 22:05:05.323  7832  7856 D AIProcessingService: Total bytes processed: 6816
08-03 22:05:05.525  7832  7856 D AIProcessingService: Vosk final result: {
08-03 22:05:05.525  7832  7856 D AIProcessingService:   "text" : ""
08-03 22:05:05.525  7832  7856 D AIProcessingService: }
08-03 22:05:05.525  7832  7856 D AIProcessingService: Parsed transcription:  
08-03 22:05:05.526  7832  7856 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:05:05.526  7832  7856 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:05:05.526  7832  7856 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:05:05.526  7832  7856 D AIProcessingService: Starting AI summary generation...
08-03 22:05:05.526  7832  7856 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:05:05.528  7832  7856 D AIProcessingService: Sending request to Gemini API...
08-03 22:05:05.528  7832  7856 D AIProcessingService: API key length: 39
08-03 22:05:05.528  7832  7856 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:05:06.200  7832  8395 D AIProcessingService: Gemini API response received successfully
08-03 22:05:06.201  7832  8395 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.
08-03 22:05:06.201  7832  8395 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.
08-03 22:05:06.201  7832  8395 D AIProcessingService: Starting file save...
08-03 22:05:06.201  7832  8395 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:05:06.201  7832  8395 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.
08-03 22:05:06.201  7832  8395 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:05:06.201  7832  8395 D AIProcessingService: File exists before: true
08-03 22:05:06.203  7832  8395 D AIProcessingService: Entry to append: 
08-03 22:05:06.203  7832  8395 D AIProcessingService: [2025-08-03 22:05:06]
08-03 22:05:06.203  7832  8395 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:05:06.203  7832  8395 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.
08-03 22:05:06.203  7832  8395 D AIProcessingService: 
08-03 22:05:06.203  7832  8395 D AIProcessingService: ---
08-03 22:05:06.203  7832  8395 D AIProcessingService: File exists, appending to existing file
08-03 22:05:06.203  7832  8395 D AIProcessingService: File exists after: true
08-03 22:05:06.203  7832  8395 D AIProcessingService: File size after: 790 bytes
08-03 22:05:06.203  7832  8395 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:05:06.203  7832  8395 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:05:06.204  7832  8395 D VoiceRecorderService: AI processing completed successfully
08-03 22:06:46.992   596  1172 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{f0b336b 8437:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:90)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:06:47.065  8437  8437 E VoiceRecorderService: 
08-03 22:06:49.266  8437  8437 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220647.3gp
08-03 22:06:49.266  8437  8437 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220647.3gp
08-03 22:06:49.266  8437  8437 D VoiceRecorderService: File exists: true, File size: 6688
08-03 22:06:49.267  8437  8464 D VoiceRecorderService: Starting AI processing for recording
08-03 22:06:49.267  8437  8464 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:06:49.267  8437  8464 D AIProcessingService: Audio file: recording_20250803_220647.3gp
08-03 22:06:49.267  8437  8464 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220647.3gp
08-03 22:06:49.267  8437  8464 D AIProcessingService: Audio file exists: true
08-03 22:06:49.267  8437  8464 D AIProcessingService: Audio file size: 6688
08-03 22:06:49.267  8437  8464 D AIProcessingService: Starting transcription...
08-03 22:06:49.267  8437  8464 D AIProcessingService: Starting real audio transcription with Vosk...
08-03 22:06:49.268  8437  8464 D AIProcessingService: === VOSK TRANSCRIPTION STARTED ===
08-03 22:06:49.268  8437  8464 D AIProcessingService: Audio file: recording_20250803_220647.3gp
08-03 22:06:49.268  8437  8464 D AIProcessingService: Audio file size: 6688 bytes
08-03 22:06:49.268  8437  8464 D AIProcessingService: Model directory: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/vosk-model-small-en-us-0.15
08-03 22:06:49.268  8437  8464 D AIProcessingService: Model directory exists: true
08-03 22:06:49.269  8437  8464 D AIProcessingService: Model directory contains 5 files
08-03 22:06:49.269  8437  8464 D AIProcessingService: Model file: am
08-03 22:06:49.269  8437  8464 D AIProcessingService: Model file: conf
08-03 22:06:49.269  8437  8464 D AIProcessingService: Model file: graph
08-03 22:06:49.269  8437  8464 D AIProcessingService: Model file: README
08-03 22:06:49.269  8437  8464 D AIProcessingService: Model file: ivector
08-03 22:06:49.269  8437  8464 D AIProcessingService: Loading Vosk model...
08-03 22:06:49.683  8437  8464 D AIProcessingService: Vosk model loaded successfully
08-03 22:06:49.728  8437  8464 D AIProcessingService: Vosk recognizer created
08-03 22:06:49.728  8437  8464 D AIProcessingService: Converting 3GP to PCM audio...
08-03 22:06:49.728  8437  8464 D AIProcessingService: Starting 3GP to PCM conversion...
08-03 22:06:49.732  8437  8464 E AIProcessingService: Error converting 3GP to PCM
08-03 22:06:49.732  8437  8464 E AIProcessingService: java.lang.Exception: No audio track found
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.convert3GPToPCM(AIProcessingService.kt:221)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:124)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:06:49.732  8437  8464 E AIProcessingService: === VOSK TRANSCRIPTION ERROR ===
08-03 22:06:49.732  8437  8464 E AIProcessingService: java.lang.Exception: No audio track found
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.convert3GPToPCM(AIProcessingService.kt:221)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:124)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:06:49.732  8437  8464 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:06:49.732  8437  8464 E AIProcessingService: Exception type: Exception
08-03 22:06:49.732  8437  8464 E AIProcessingService: Exception message: No audio track found
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.convert3GPToPCM(AIProcessingService.kt:221)
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:06:49.732  8437  8464 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:124)
08-03 22:06:49.733  8437  8464 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:06:49.733  8437  8464 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:06:49.733  8437  8464 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:06:49.733  8437  8464 D AIProcessingService: Starting AI summary generation...
08-03 22:06:49.733  8437  8464 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:06:49.736  8437  8464 D AIProcessingService: Sending request to Gemini API...
08-03 22:06:49.736  8437  8464 D AIProcessingService: API key length: 39
08-03 22:06:49.736  8437  8464 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:06:50.654  8437  8466 D AIProcessingService: Gemini API response received successfully
08-03 22:06:50.654  8437  8466 D AIProcessingService: Generated summary: The provided text only indicates a "Quick test recording," offering no further information.  Therefore, there's no content to summarize.  A summary is impossible without details about the recording's subject or content.
08-03 22:06:50.654  8437  8466 D AIProcessingService: AI Summary completed: The provided text only indicates a "Quick test recording," offering no further information.  Therefore, there's no content to summarize.  A summary is impossible without details about the recording's subject or content.
08-03 22:06:50.655  8437  8466 D AIProcessingService: Starting file save...
08-03 22:06:50.655  8437  8466 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:06:50.655  8437  8466 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "Quick test recording," offering no further information.  Therefore, there's no content to summarize.  A summary is impossible without details about the recording's subject or content.
08-03 22:06:50.655  8437  8466 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:06:50.655  8437  8466 D AIProcessingService: File exists before: true
08-03 22:06:50.657  8437  8466 D AIProcessingService: Entry to append: 
08-03 22:06:50.657  8437  8466 D AIProcessingService: [2025-08-03 22:06:50]
08-03 22:06:50.657  8437  8466 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:06:50.657  8437  8466 D AIProcessingService: AI SUMMARY: The provided text only indicates a "Quick test recording," offering no further information.  Therefore, there's no content to summarize.  A summary is impossible without details about the recording's subject or content.
08-03 22:06:50.657  8437  8466 D AIProcessingService: 
08-03 22:06:50.657  8437  8466 D AIProcessingService: ---
08-03 22:06:50.657  8437  8466 D AIProcessingService: File exists, appending to existing file
08-03 22:06:50.657  8437  8466 D AIProcessingService: File exists after: true
08-03 22:06:50.658  8437  8466 D AIProcessingService: File size after: 1087 bytes
08-03 22:06:50.658  8437  8466 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:06:50.658  8437  8466 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:06:50.658  8437  8466 D VoiceRecorderService: AI processing completed successfully
08-03 22:08:00.287   596  1061 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{32e3b79 9044:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:90)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:08:00.385  9044  9044 E VoiceRecorderService: 
08-03 22:08:01.818  9044  9044 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220800.mp4
08-03 22:08:01.818  9044  9044 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220800.mp4
08-03 22:08:01.818  9044  9044 D VoiceRecorderService: File exists: true, File size: 5434
08-03 22:08:01.818  9044  9068 D VoiceRecorderService: Starting AI processing for recording
08-03 22:08:01.819  9044  9068 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:08:01.819  9044  9068 D AIProcessingService: Audio file: recording_20250803_220800.mp4
08-03 22:08:01.819  9044  9068 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_220800.mp4
08-03 22:08:01.819  9044  9068 D AIProcessingService: Audio file exists: true
08-03 22:08:01.819  9044  9068 D AIProcessingService: Audio file size: 5434
08-03 22:08:01.819  9044  9068 D AIProcessingService: Starting transcription...
08-03 22:08:01.819  9044  9068 D AIProcessingService: Starting real audio transcription with Vosk...
08-03 22:08:01.819  9044  9068 D AIProcessingService: === VOSK TRANSCRIPTION STARTED ===
08-03 22:08:01.819  9044  9068 D AIProcessingService: Audio file: recording_20250803_220800.mp4
08-03 22:08:01.819  9044  9068 D AIProcessingService: Audio file size: 5434 bytes
08-03 22:08:01.819  9044  9068 D AIProcessingService: Model directory: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/vosk-model-small-en-us-0.15
08-03 22:08:01.820  9044  9068 D AIProcessingService: Model directory exists: true
08-03 22:08:01.820  9044  9068 D AIProcessingService: Model directory contains 5 files
08-03 22:08:01.820  9044  9068 D AIProcessingService: Model file: am
08-03 22:08:01.820  9044  9068 D AIProcessingService: Model file: conf
08-03 22:08:01.820  9044  9068 D AIProcessingService: Model file: graph
08-03 22:08:01.820  9044  9068 D AIProcessingService: Model file: README
08-03 22:08:01.820  9044  9068 D AIProcessingService: Model file: ivector
08-03 22:08:01.820  9044  9068 D AIProcessingService: Loading Vosk model...
08-03 22:08:02.169  9044  9068 D AIProcessingService: Vosk model loaded successfully
08-03 22:08:02.213  9044  9068 D AIProcessingService: Vosk recognizer created
08-03 22:08:02.213  9044  9068 D AIProcessingService: Converting MP4 to PCM audio...
08-03 22:08:02.213  9044  9068 D AIProcessingService: Starting MP4 to PCM conversion...
08-03 22:08:02.217  9044  9068 D AIProcessingService: MediaExtractor created, track count: 0
08-03 22:08:02.218  9044  9068 E AIProcessingService: Error converting 3GP to PCM
08-03 22:08:02.218  9044  9068 E AIProcessingService: java.lang.Exception: No audio track found
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.convertMP4ToPCM(AIProcessingService.kt:224)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:124)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:08:02.218  9044  9068 E AIProcessingService: === VOSK TRANSCRIPTION ERROR ===
08-03 22:08:02.218  9044  9068 E AIProcessingService: java.lang.Exception: No audio track found
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.convertMP4ToPCM(AIProcessingService.kt:224)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:124)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:08:02.218  9044  9068 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:08:02.218  9044  9068 E AIProcessingService: Exception type: Exception
08-03 22:08:02.218  9044  9068 E AIProcessingService: Exception message: No audio track found
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.convertMP4ToPCM(AIProcessingService.kt:224)
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:08:02.219  9044  9068 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:124)
08-03 22:08:02.220  9044  9068 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:08:02.220  9044  9068 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:08:02.220  9044  9068 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:08:02.220  9044  9068 D AIProcessingService: Starting AI summary generation...
08-03 22:08:02.222  9044  9068 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:08:02.226  9044  9068 D AIProcessingService: Sending request to Gemini API...
08-03 22:08:02.226  9044  9068 D AIProcessingService: API key length: 39
08-03 22:08:02.226  9044  9068 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:08:03.109  9044  9069 D AIProcessingService: Gemini API response received successfully
08-03 22:08:03.109  9044  9069 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," lacking any further information.  Therefore, no summary beyond this description is possible.  There is no content to summarize.
08-03 22:08:03.109  9044  9069 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," lacking any further information.  Therefore, no summary beyond this description is possible.  There is no content to summarize.
08-03 22:08:03.109  9044  9069 D AIProcessingService: Starting file save...
08-03 22:08:03.109  9044  9069 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:08:03.109  9044  9069 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," lacking any further information.  Therefore, no summary beyond this description is possible.  There is no content to summarize.
08-03 22:08:03.110  9044  9069 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:08:03.110  9044  9069 D AIProcessingService: File exists before: true
08-03 22:08:03.112  9044  9069 D AIProcessingService: Entry to append: 
08-03 22:08:03.112  9044  9069 D AIProcessingService: [2025-08-03 22:08:03]
08-03 22:08:03.112  9044  9069 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:08:03.112  9044  9069 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," lacking any further information.  Therefore, no summary beyond this description is possible.  There is no content to summarize.
08-03 22:08:03.112  9044  9069 D AIProcessingService: 
08-03 22:08:03.112  9044  9069 D AIProcessingService: ---
08-03 22:08:03.112  9044  9069 D AIProcessingService: File exists, appending to existing file
08-03 22:08:03.113  9044  9069 D AIProcessingService: File exists after: true
08-03 22:08:03.113  9044  9069 D AIProcessingService: File size after: 1351 bytes
08-03 22:08:03.113  9044  9069 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:08:03.113  9044  9069 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:08:03.113  9044  9069 D VoiceRecorderService: AI processing completed successfully
08-03 22:11:10.139   596   670 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: Error initializing AudioRecord
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{e108ec3 9650:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:99)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:53)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:11:10.289  9650  9650 E VoiceRecorderService: 
08-03 22:11:11.907  9650  9650 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_221110.pcm
08-03 22:11:11.907  9650  9650 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_221110.pcm
08-03 22:11:11.907  9650  9650 D VoiceRecorderService: File exists: false, File size: 0
08-03 22:11:11.908  9650  9677 D VoiceRecorderService: Starting AI processing for recording
08-03 22:11:11.908  9650  9677 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:11:11.908  9650  9677 D AIProcessingService: Audio file: recording_20250803_221110.pcm
08-03 22:11:11.908  9650  9677 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_221110.pcm
08-03 22:11:11.908  9650  9677 D AIProcessingService: Audio file exists: false
08-03 22:11:11.908  9650  9677 D AIProcessingService: Audio file size: 0
08-03 22:11:11.908  9650  9677 D AIProcessingService: Starting transcription...
08-03 22:11:11.908  9650  9677 D AIProcessingService: Starting real audio transcription with Vosk...
08-03 22:11:11.909  9650  9677 D AIProcessingService: === VOSK TRANSCRIPTION STARTED ===
08-03 22:11:11.909  9650  9677 D AIProcessingService: Audio file: recording_20250803_221110.pcm
08-03 22:11:11.909  9650  9677 D AIProcessingService: Audio file size: 0 bytes
08-03 22:11:11.909  9650  9677 D AIProcessingService: Model directory: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/vosk-model-small-en-us-0.15
08-03 22:11:11.909  9650  9677 D AIProcessingService: Model directory exists: true
08-03 22:11:11.909  9650  9677 D AIProcessingService: Model directory contains 5 files
08-03 22:11:11.909  9650  9677 D AIProcessingService: Model file: am
08-03 22:11:11.909  9650  9677 D AIProcessingService: Model file: conf
08-03 22:11:11.909  9650  9677 D AIProcessingService: Model file: graph
08-03 22:11:11.909  9650  9677 D AIProcessingService: Model file: README
08-03 22:11:11.909  9650  9677 D AIProcessingService: Model file: ivector
08-03 22:11:11.909  9650  9677 D AIProcessingService: Loading Vosk model...
08-03 22:11:12.280  9650  9677 D AIProcessingService: Vosk model loaded successfully
08-03 22:11:12.324  9650  9677 D AIProcessingService: Vosk recognizer created
08-03 22:11:12.324  9650  9677 D AIProcessingService: Reading PCM file directly...
08-03 22:11:12.325  9650  9677 E AIProcessingService: === VOSK TRANSCRIPTION ERROR ===
08-03 22:11:12.325  9650  9677 E AIProcessingService: java.io.FileNotFoundException: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_221110.pcm: open failed: ENOENT (No such file or directory)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at libcore.io.IoBridge.open(IoBridge.java:574)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at java.io.FileInputStream.<init>(FileInputStream.java:179)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlin.io.FilesKt__FileReadWriteKt.readBytes(FileReadWrite.kt:63)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:153)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:11:12.325  9650  9677 E AIProcessingService: Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at libcore.io.Linux.open(Native Method)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at libcore.io.ForwardingOs.open(ForwardingOs.java:568)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at libcore.io.ForwardingOs.open(ForwardingOs.java:568)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8953)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	at libcore.io.IoBridge.open(IoBridge.java:560)
08-03 22:11:12.325  9650  9677 E AIProcessingService: 	... 21 more
08-03 22:11:12.325  9650  9677 E AIProcessingService: Exception type: FileNotFoundException
08-03 22:11:12.325  9650  9677 E AIProcessingService: Exception message: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_221110.pcm: open failed: ENOENT (No such file or directory)
08-03 22:11:12.325  9650  9677 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:11:12.325  9650  9677 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:11:12.325  9650  9677 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:11:12.325  9650  9677 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:11:12.325  9650  9677 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:11:12.325  9650  9677 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:11:12.325  9650  9677 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:11:12.325  9650  9677 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:153)
08-03 22:11:12.326  9650  9677 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:11:12.326  9650  9677 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:11:12.326  9650  9677 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:11:12.326  9650  9677 D AIProcessingService: Starting AI summary generation...
08-03 22:11:12.326  9650  9677 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:11:12.329  9650  9677 D AIProcessingService: Sending request to Gemini API...
08-03 22:11:12.329  9650  9677 D AIProcessingService: API key length: 39
08-03 22:11:12.329  9650  9677 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:11:13.209  9650  9676 D AIProcessingService: Gemini API response received successfully
08-03 22:11:13.209  9650  9676 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  No key points or main ideas can be extracted.
08-03 22:11:13.209  9650  9676 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  No key points or main ideas can be extracted.
08-03 22:11:13.209  9650  9676 D AIProcessingService: Starting file save...
08-03 22:11:13.209  9650  9676 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:11:13.209  9650  9676 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  No key points or main ideas can be extracted.
08-03 22:11:13.210  9650  9676 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:11:13.210  9650  9676 D AIProcessingService: File exists before: true
08-03 22:11:13.211  9650  9676 D AIProcessingService: Entry to append: 
08-03 22:11:13.211  9650  9676 D AIProcessingService: [2025-08-03 22:11:13]
08-03 22:11:13.211  9650  9676 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:11:13.211  9650  9676 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  No key points or main ideas can be extracted.
08-03 22:11:13.211  9650  9676 D AIProcessingService: 
08-03 22:11:13.211  9650  9676 D AIProcessingService: ---
08-03 22:11:13.211  9650  9676 D AIProcessingService: File exists, appending to existing file
08-03 22:11:13.211  9650  9676 D AIProcessingService: File exists after: true
08-03 22:11:13.212  9650  9676 D AIProcessingService: File size after: 1613 bytes
08-03 22:11:13.212  9650  9676 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:11:13.212  9650  9676 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:11:13.212  9650  9676 D VoiceRecorderService: AI processing completed successfully
08-03 22:20:19.923   596  2282 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: Error initializing AudioRecord
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{b826014 10228:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:99)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:53)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:20:19.991 10228 10228 E VoiceRecorderService: 
08-03 22:20:22.218 10228 10228 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222019.pcm
08-03 22:20:22.218 10228 10228 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222019.pcm
08-03 22:20:22.219 10228 10228 D VoiceRecorderService: File exists: false, File size: 0
08-03 22:20:22.220 10228 10253 D VoiceRecorderService: Starting AI processing for recording
08-03 22:20:22.220 10228 10253 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:20:22.220 10228 10253 D AIProcessingService: Audio file: recording_20250803_222019.pcm
08-03 22:20:22.220 10228 10253 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222019.pcm
08-03 22:20:22.221 10228 10253 D AIProcessingService: Audio file exists: false
08-03 22:20:22.222 10228 10253 D AIProcessingService: Audio file size: 0
08-03 22:20:22.222 10228 10253 D AIProcessingService: Starting transcription...
08-03 22:20:22.222 10228 10253 D AIProcessingService: Starting real audio transcription with Vosk...
08-03 22:20:22.222 10228 10253 D AIProcessingService: === VOSK TRANSCRIPTION STARTED ===
08-03 22:20:22.222 10228 10253 D AIProcessingService: Audio file: recording_20250803_222019.pcm
08-03 22:20:22.222 10228 10253 D AIProcessingService: Audio file size: 0 bytes
08-03 22:20:22.223 10228 10253 D AIProcessingService: Model directory: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/vosk-model-small-en-us-0.15
08-03 22:20:22.223 10228 10253 D AIProcessingService: Model directory exists: true
08-03 22:20:22.224 10228 10253 D AIProcessingService: Model directory contains 5 files
08-03 22:20:22.224 10228 10253 D AIProcessingService: Model file: am
08-03 22:20:22.224 10228 10253 D AIProcessingService: Model file: conf
08-03 22:20:22.224 10228 10253 D AIProcessingService: Model file: graph
08-03 22:20:22.224 10228 10253 D AIProcessingService: Model file: README
08-03 22:20:22.224 10228 10253 D AIProcessingService: Model file: ivector
08-03 22:20:22.224 10228 10253 D AIProcessingService: Loading Vosk model...
08-03 22:20:22.579 10228 10253 D AIProcessingService: Vosk model loaded successfully
08-03 22:20:22.621 10228 10253 D AIProcessingService: Vosk recognizer created
08-03 22:20:22.621 10228 10253 D AIProcessingService: Reading PCM file directly...
08-03 22:20:22.622 10228 10253 E AIProcessingService: === VOSK TRANSCRIPTION ERROR ===
08-03 22:20:22.622 10228 10253 E AIProcessingService: java.io.FileNotFoundException: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222019.pcm: open failed: ENOENT (No such file or directory)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at libcore.io.IoBridge.open(IoBridge.java:574)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at java.io.FileInputStream.<init>(FileInputStream.java:179)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlin.io.FilesKt__FileReadWriteKt.readBytes(FileReadWrite.kt:63)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:153)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:20:22.622 10228 10253 E AIProcessingService: Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at libcore.io.Linux.open(Native Method)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at libcore.io.ForwardingOs.open(ForwardingOs.java:568)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at libcore.io.ForwardingOs.open(ForwardingOs.java:568)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8953)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	at libcore.io.IoBridge.open(IoBridge.java:560)
08-03 22:20:22.622 10228 10253 E AIProcessingService: 	... 21 more
08-03 22:20:22.622 10228 10253 E AIProcessingService: Exception type: FileNotFoundException
08-03 22:20:22.622 10228 10253 E AIProcessingService: Exception message: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222019.pcm: open failed: ENOENT (No such file or directory)
08-03 22:20:22.622 10228 10253 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithVosk(AIProcessingService.kt:135)
08-03 22:20:22.622 10228 10253 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithVosk(AIProcessingService.kt:20)
08-03 22:20:22.622 10228 10253 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:69)
08-03 22:20:22.622 10228 10253 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:20:22.622 10228 10253 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:20:22.622 10228 10253 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:63)
08-03 22:20:22.622 10228 10253 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:41)
08-03 22:20:22.622 10228 10253 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:153)
08-03 22:20:22.623 10228 10253 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:20:22.623 10228 10253 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:20:22.623 10228 10253 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:20:22.623 10228 10253 D AIProcessingService: Starting AI summary generation...
08-03 22:20:22.623 10228 10253 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:20:22.626 10228 10253 D AIProcessingService: Sending request to Gemini API...
08-03 22:20:22.626 10228 10253 D AIProcessingService: API key length: 39
08-03 22:20:22.626 10228 10253 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:20:23.334 10228 10789 D AIProcessingService: Gemini API response received successfully
08-03 22:20:23.334 10228 10789 D AIProcessingService: Generated summary: The provided text only indicates a quick test recording was made.  No further information about the content or purpose of the recording is given.  Therefore, there is no substantive summary possible.
08-03 22:20:23.334 10228 10789 D AIProcessingService: AI Summary completed: The provided text only indicates a quick test recording was made.  No further information about the content or purpose of the recording is given.  Therefore, there is no substantive summary possible.
08-03 22:20:23.334 10228 10789 D AIProcessingService: Starting file save...
08-03 22:20:23.334 10228 10789 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:20:23.334 10228 10789 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a quick test recording was made.  No further information about the content or purpose of the recording is given.  Therefore, there is no substantive summary possible.
08-03 22:20:23.334 10228 10789 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:20:23.334 10228 10789 D AIProcessingService: File exists before: true
08-03 22:20:23.336 10228 10789 D AIProcessingService: Entry to append: 
08-03 22:20:23.336 10228 10789 D AIProcessingService: [2025-08-03 22:20:23]
08-03 22:20:23.336 10228 10789 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:20:23.336 10228 10789 D AIProcessingService: AI SUMMARY: The provided text only indicates a quick test recording was made.  No further information about the content or purpose of the recording is given.  Therefore, there is no substantive summary possible.
08-03 22:20:23.336 10228 10789 D AIProcessingService: 
08-03 22:20:23.336 10228 10789 D AIProcessingService: ---
08-03 22:20:23.336 10228 10789 D AIProcessingService: File exists, appending to existing file
08-03 22:20:23.337 10228 10789 D AIProcessingService: File exists after: true
08-03 22:20:23.337 10228 10789 D AIProcessingService: File size after: 1890 bytes
08-03 22:20:23.337 10228 10789 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:20:23.337 10228 10789 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:20:23.337 10228 10789 D VoiceRecorderService: AI processing completed successfully
08-03 22:21:32.773   596  2328 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: Error initializing AudioRecord
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{b826014 10228:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:99)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:53)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:21:32.834 10228 10228 E VoiceRecorderService: 
08-03 22:21:35.421 10228 10228 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222132.pcm
08-03 22:21:35.421 10228 10228 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222132.pcm
08-03 22:21:35.421 10228 10228 D VoiceRecorderService: File exists: false, File size: 0
08-03 22:21:35.423 10228 10789 D VoiceRecorderService: Starting AI processing for recording
08-03 22:21:35.423 10228 10789 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:21:35.423 10228 10789 D AIProcessingService: Audio file: recording_20250803_222132.pcm
08-03 22:21:35.423 10228 10789 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222132.pcm
08-03 22:21:35.424 10228 10789 D AIProcessingService: Audio file exists: false
08-03 22:21:35.426 10228 10789 D AIProcessingService: Audio file size: 0
08-03 22:21:35.426 10228 10789 D AIProcessingService: Starting transcription...
08-03 22:21:35.426 10228 10789 D AIProcessingService: Starting real audio transcription with Vosk...
08-03 22:21:35.426 10228 10789 D AIProcessingService: === VOSK TRANSCRIPTION STARTED ===
08-03 22:21:35.426 10228 10789 D AIProcessingService: Audio file: recording_20250803_222132.pcm
08-03 22:21:35.426 10228 10789 D AIProcessingService: Audio file size: 0 bytes
08-03 22:21:35.426 10228 10789 D AIProcessingService: Model directory: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/vosk-model-small-en-us-0.15
08-03 22:21:35.426 10228 10789 D AIProcessingService: Model directory exists: false
08-03 22:21:35.427 10228 10789 D AIProcessingService: Vosk model not found, will use simulated transcription
08-03 22:21:35.427 10228 10789 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:21:35.427 10228 10789 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:21:35.428 10228 10789 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:21:35.428 10228 10789 D AIProcessingService: Starting AI summary generation...
08-03 22:21:35.428 10228 10789 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:21:35.430 10228 10789 D AIProcessingService: Sending request to Gemini API...
08-03 22:21:35.430 10228 10789 D AIProcessingService: API key length: 39
08-03 22:21:35.430 10228 10789 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:21:35.994 10228 10887 D AIProcessingService: Gemini API response received successfully
08-03 22:21:35.995 10228 10887 D AIProcessingService: Generated summary: The provided text is simply "Quick test recording."  This indicates a short audio or video recording made for testing purposes.  No further information or content is available for summarization.
08-03 22:21:35.995 10228 10887 D AIProcessingService: AI Summary completed: The provided text is simply "Quick test recording."  This indicates a short audio or video recording made for testing purposes.  No further information or content is available for summarization.
08-03 22:21:35.995 10228 10887 D AIProcessingService: Starting file save...
08-03 22:21:35.995 10228 10887 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:21:35.995 10228 10887 D AIProcessingService: saveToLocalFile called with summary: The provided text is simply "Quick test recording."  This indicates a short audio or video recording made for testing purposes.  No further information or content is available for summarization.
08-03 22:21:35.998 10228 10887 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:21:35.998 10228 10887 D AIProcessingService: File exists before: false
08-03 22:21:36.001 10228 10887 D AIProcessingService: Entry to append: 
08-03 22:21:36.001 10228 10887 D AIProcessingService: [2025-08-03 22:21:35]
08-03 22:21:36.001 10228 10887 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:21:36.001 10228 10887 D AIProcessingService: AI SUMMARY: The provided text is simply "Quick test recording."  This indicates a short audio or video recording made for testing purposes.  No further information or content is available for summarization.
08-03 22:21:36.001 10228 10887 D AIProcessingService: 
08-03 22:21:36.001 10228 10887 D AIProcessingService: ---
08-03 22:21:36.002 10228 10887 D AIProcessingService: File doesn't exist, creating new file
08-03 22:21:36.009 10228 10887 D AIProcessingService: File exists after: true
08-03 22:21:36.010 10228 10887 D AIProcessingService: File size after: 296 bytes
08-03 22:21:36.010 10228 10887 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:21:36.010 10228 10887 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:21:36.010 10228 10887 D VoiceRecorderService: AI processing completed successfully
08-03 22:22:01.934   596  2301 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{f69992 11225:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:22:02.015 11225 11225 E VoiceRecorderService: 
08-03 22:22:04.229 11225 11225 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222201.mp3
08-03 22:22:04.230 11225 11225 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222201.mp3
08-03 22:22:04.230 11225 11225 D VoiceRecorderService: File exists: true, File size: 6607
08-03 22:22:04.230 11225 11272 D VoiceRecorderService: Starting AI processing for recording
08-03 22:22:04.230 11225 11272 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:22:04.230 11225 11272 D AIProcessingService: Audio file: recording_20250803_222201.mp3
08-03 22:22:04.230 11225 11272 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222201.mp3
08-03 22:22:04.230 11225 11272 D AIProcessingService: Audio file exists: true
08-03 22:22:04.230 11225 11272 D AIProcessingService: Audio file size: 6607
08-03 22:22:04.230 11225 11272 D AIProcessingService: Starting transcription...
08-03 22:22:04.230 11225 11272 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:22:04.231 11225 11272 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:22:04.231 11225 11272 D AIProcessingService: Audio file: recording_20250803_222201.mp3
08-03 22:22:04.231 11225 11272 D AIProcessingService: Audio file size: 6607 bytes
08-03 22:22:04.249 11225 11272 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:22:04.365 11225 11272 E AIProcessingService: === WHISPER TRANSCRIPTION ERROR ===
08-03 22:22:04.365 11225 11272 E AIProcessingService: java.net.ProtocolException: expected 7060 bytes but received 7249
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.connection.Exchange$RequestBodySink.write(Exchange.kt:219)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okio.RealBufferedSink.close(RealBufferedSink.kt:280)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:63)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithWhisper(AIProcessingService.kt:137)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithWhisper(AIProcessingService.kt:18)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:68)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:62)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:40)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:122)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:22:04.365 11225 11272 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:22:04.365 11225 11272 E AIProcessingService: Exception type: ProtocolException
08-03 22:22:04.365 11225 11272 E AIProcessingService: Exception message: expected 7060 bytes but received 7249
08-03 22:22:04.366 11225 11272 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithWhisper(AIProcessingService.kt:137)
08-03 22:22:04.366 11225 11272 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithWhisper(AIProcessingService.kt:18)
08-03 22:22:04.367 11225 11272 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:68)
08-03 22:22:04.367 11225 11272 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:22:04.367 11225 11272 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:22:04.367 11225 11272 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:62)
08-03 22:22:04.367 11225 11272 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:40)
08-03 22:22:04.368 11225 11272 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:122)
08-03 22:22:04.368 11225 11272 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:22:04.368 11225 11272 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:22:04.369 11225 11272 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:22:04.369 11225 11272 D AIProcessingService: Starting AI summary generation...
08-03 22:22:04.370 11225 11272 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:22:04.372 11225 11272 D AIProcessingService: Sending request to Gemini API...
08-03 22:22:04.372 11225 11272 D AIProcessingService: API key length: 39
08-03 22:22:04.372 11225 11272 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:22:04.956 11225 11272 D AIProcessingService: Gemini API response received successfully
08-03 22:22:04.956 11225 11272 D AIProcessingService: Generated summary: The provided text is simply "Quick test recording."  This indicates a short audio or video recording made for testing purposes.  No further information or content is available for summarization.
08-03 22:22:04.956 11225 11272 D AIProcessingService: AI Summary completed: The provided text is simply "Quick test recording."  This indicates a short audio or video recording made for testing purposes.  No further information or content is available for summarization.
08-03 22:22:04.956 11225 11272 D AIProcessingService: Starting file save...
08-03 22:22:04.956 11225 11272 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:22:04.956 11225 11272 D AIProcessingService: saveToLocalFile called with summary: The provided text is simply "Quick test recording."  This indicates a short audio or video recording made for testing purposes.  No further information or content is available for summarization.
08-03 22:22:04.957 11225 11272 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:22:04.957 11225 11272 D AIProcessingService: File exists before: true
08-03 22:22:04.959 11225 11272 D AIProcessingService: Entry to append: 
08-03 22:22:04.959 11225 11272 D AIProcessingService: [2025-08-03 22:22:04]
08-03 22:22:04.959 11225 11272 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:22:04.959 11225 11272 D AIProcessingService: AI SUMMARY: The provided text is simply "Quick test recording."  This indicates a short audio or video recording made for testing purposes.  No further information or content is available for summarization.
08-03 22:22:04.959 11225 11272 D AIProcessingService: 
08-03 22:22:04.959 11225 11272 D AIProcessingService: ---
08-03 22:22:04.959 11225 11272 D AIProcessingService: File exists, appending to existing file
08-03 22:22:04.960 11225 11272 D AIProcessingService: File exists after: true
08-03 22:22:04.960 11225 11272 D AIProcessingService: File size after: 568 bytes
08-03 22:22:04.960 11225 11272 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:22:04.960 11225 11272 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:22:04.960 11225 11272 D VoiceRecorderService: AI processing completed successfully
08-03 22:22:47.047   596  2189 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{d51607f 11405:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:22:47.143 11405 11405 E VoiceRecorderService: 
08-03 22:22:49.617 11405 11405 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222247.mp3
08-03 22:22:49.617 11405 11405 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222247.mp3
08-03 22:22:49.618 11405 11405 D VoiceRecorderService: File exists: true, File size: 6941
08-03 22:22:49.619 11405 11430 D VoiceRecorderService: Starting AI processing for recording
08-03 22:22:49.619 11405 11430 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:22:49.619 11405 11430 D AIProcessingService: Audio file: recording_20250803_222247.mp3
08-03 22:22:49.619 11405 11430 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222247.mp3
08-03 22:22:49.619 11405 11430 D AIProcessingService: Audio file exists: true
08-03 22:22:49.619 11405 11430 D AIProcessingService: Audio file size: 6941
08-03 22:22:49.619 11405 11430 D AIProcessingService: Starting transcription...
08-03 22:22:49.619 11405 11430 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:22:49.619 11405 11430 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:22:49.619 11405 11430 D AIProcessingService: Audio file: recording_20250803_222247.mp3
08-03 22:22:49.619 11405 11430 D AIProcessingService: Audio file size: 6941 bytes
08-03 22:22:49.619 11405 11430 D AIProcessingService: Audio file exists: true
08-03 22:22:49.619 11405 11430 D AIProcessingService: API key length: 164
08-03 22:22:49.620 11405 11430 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:22:49.642 11405 11430 D AIProcessingService: Request body created, size: 7394
08-03 22:22:49.644 11405 11430 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:22:49.644 11405 11430 D AIProcessingService: Request URL: https://api.openai.com/v1/audio/transcriptions
08-03 22:22:49.644 11405 11430 D AIProcessingService: Request headers: Authorization: 
08-03 22:22:49.644 11405 11430 D AIProcessingService: Content-Type: multipart/form-data
08-03 22:22:49.736 11405 11430 E AIProcessingService: === WHISPER TRANSCRIPTION ERROR ===
08-03 22:22:49.736 11405 11430 E AIProcessingService: java.net.ProtocolException: expected 7394 bytes but received 7596
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.connection.Exchange$RequestBodySink.write(Exchange.kt:219)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okio.RealBufferedSink.close(RealBufferedSink.kt:280)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:63)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithWhisper(AIProcessingService.kt:150)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithWhisper(AIProcessingService.kt:18)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:68)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:62)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:40)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:122)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:22:49.736 11405 11430 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:22:49.736 11405 11430 E AIProcessingService: Exception type: ProtocolException
08-03 22:22:49.736 11405 11430 E AIProcessingService: Exception message: expected 7394 bytes but received 7596
08-03 22:22:49.737 11405 11430 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithWhisper(AIProcessingService.kt:150)
08-03 22:22:49.737 11405 11430 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithWhisper(AIProcessingService.kt:18)
08-03 22:22:49.737 11405 11430 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:68)
08-03 22:22:49.737 11405 11430 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:22:49.737 11405 11430 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:22:49.737 11405 11430 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:62)
08-03 22:22:49.737 11405 11430 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:40)
08-03 22:22:49.737 11405 11430 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:122)
08-03 22:22:49.738 11405 11430 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:22:49.738 11405 11430 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:22:49.738 11405 11430 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:22:49.739 11405 11430 D AIProcessingService: Starting AI summary generation...
08-03 22:22:49.741 11405 11430 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:22:49.745 11405 11430 D AIProcessingService: Sending request to Gemini API...
08-03 22:22:49.745 11405 11430 D AIProcessingService: API key length: 39
08-03 22:22:49.745 11405 11430 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:22:50.391 11405 11432 D AIProcessingService: Gemini API response received successfully
08-03 22:22:50.391 11405 11432 D AIProcessingService: Generated summary: The provided text is simply "Quick test recording."  This indicates a short audio or video recording was made for testing purposes. No further information about the recording's content or purpose is available.
08-03 22:22:50.391 11405 11432 D AIProcessingService: AI Summary completed: The provided text is simply "Quick test recording."  This indicates a short audio or video recording was made for testing purposes. No further information about the recording's content or purpose is available.
08-03 22:22:50.391 11405 11432 D AIProcessingService: Starting file save...
08-03 22:22:50.391 11405 11432 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:22:50.391 11405 11432 D AIProcessingService: saveToLocalFile called with summary: The provided text is simply "Quick test recording."  This indicates a short audio or video recording was made for testing purposes. No further information about the recording's content or purpose is available.
08-03 22:22:50.392 11405 11432 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:22:50.393 11405 11432 D AIProcessingService: File exists before: true
08-03 22:22:50.395 11405 11432 D AIProcessingService: Entry to append: 
08-03 22:22:50.395 11405 11432 D AIProcessingService: [2025-08-03 22:22:50]
08-03 22:22:50.395 11405 11432 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:22:50.395 11405 11432 D AIProcessingService: AI SUMMARY: The provided text is simply "Quick test recording."  This indicates a short audio or video recording was made for testing purposes. No further information about the recording's content or purpose is available.
08-03 22:22:50.395 11405 11432 D AIProcessingService: 
08-03 22:22:50.395 11405 11432 D AIProcessingService: ---
08-03 22:22:50.395 11405 11432 D AIProcessingService: File exists, appending to existing file
08-03 22:22:50.397 11405 11432 D AIProcessingService: File exists after: true
08-03 22:22:50.397 11405 11432 D AIProcessingService: File size after: 855 bytes
08-03 22:22:50.397 11405 11432 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:22:50.397 11405 11432 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:22:50.397 11405 11432 D VoiceRecorderService: AI processing completed successfully
08-03 22:23:35.141   596  1061 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{9c2ed2e 11503:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:23:35.221 11503 11503 E VoiceRecorderService: 
08-03 22:23:37.366 11503 11503 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222335.mp3
08-03 22:23:37.366 11503 11503 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222335.mp3
08-03 22:23:37.366 11503 11503 D VoiceRecorderService: File exists: true, File size: 6356
08-03 22:23:37.368 11503 11529 D VoiceRecorderService: Starting AI processing for recording
08-03 22:23:37.368 11503 11529 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:23:37.368 11503 11529 D AIProcessingService: Audio file: recording_20250803_222335.mp3
08-03 22:23:37.368 11503 11529 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222335.mp3
08-03 22:23:37.368 11503 11529 D AIProcessingService: Audio file exists: true
08-03 22:23:37.368 11503 11529 D AIProcessingService: Audio file size: 6356
08-03 22:23:37.368 11503 11529 D AIProcessingService: Starting transcription...
08-03 22:23:37.368 11503 11529 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:23:37.368 11503 11529 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:23:37.368 11503 11529 D AIProcessingService: Audio file: recording_20250803_222335.mp3
08-03 22:23:37.368 11503 11529 D AIProcessingService: Audio file size: 6356 bytes
08-03 22:23:37.368 11503 11529 D AIProcessingService: Audio file exists: true
08-03 22:23:37.368 11503 11529 D AIProcessingService: API key length: 164
08-03 22:23:37.369 11503 11529 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:23:37.385 11503 11529 D AIProcessingService: Request body created
08-03 22:23:37.387 11503 11529 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:23:37.387 11503 11529 D AIProcessingService: Request URL: https://api.openai.com/v1/audio/transcriptions
08-03 22:23:37.387 11503 11529 D AIProcessingService: Request headers: Authorization: 
08-03 22:23:37.501 11503 11529 E AIProcessingService: === WHISPER TRANSCRIPTION ERROR ===
08-03 22:23:37.501 11503 11529 E AIProcessingService: java.net.ProtocolException: expected 6809 bytes but received 7016
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.connection.Exchange$RequestBodySink.write(Exchange.kt:219)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okio.RealBufferedSink.close(RealBufferedSink.kt:280)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:63)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithWhisper(AIProcessingService.kt:149)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithWhisper(AIProcessingService.kt:18)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:68)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:167)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:62)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:40)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:122)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:103)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
08-03 22:23:37.501 11503 11529 E AIProcessingService: 	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
08-03 22:23:37.501 11503 11529 E AIProcessingService: Exception type: ProtocolException
08-03 22:23:37.501 11503 11529 E AIProcessingService: Exception message: expected 6809 bytes but received 7016
08-03 22:23:37.502 11503 11529 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeWithWhisper(AIProcessingService.kt:149)
08-03 22:23:37.502 11503 11529 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.access$transcribeWithWhisper(AIProcessingService.kt:18)
08-03 22:23:37.502 11503 11529 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invokeSuspend(AIProcessingService.kt:68)
08-03 22:23:37.502 11503 11529 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:8)
08-03 22:23:37.502 11503 11529 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService$transcribeAudio$2.invoke(Unknown Source:4)
08-03 22:23:37.502 11503 11529 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.transcribeAudio(AIProcessingService.kt:62)
08-03 22:23:37.502 11503 11529 W System.err: 	at com.example.voicerecorderwearos.AIProcessingService.processRecording(AIProcessingService.kt:40)
08-03 22:23:37.502 11503 11529 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService$stopRecording$2$1.invokeSuspend(VoiceRecorderService.kt:122)
08-03 22:23:37.502 11503 11529 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:23:37.502 11503 11529 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:23:37.502 11503 11529 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:23:37.503 11503 11529 D AIProcessingService: Starting AI summary generation...
08-03 22:23:37.503 11503 11529 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:23:37.508 11503 11529 D AIProcessingService: Sending request to Gemini API...
08-03 22:23:37.508 11503 11529 D AIProcessingService: API key length: 39
08-03 22:23:37.508 11503 11529 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:23:38.172 11503 11557 D AIProcessingService: Gemini API response received successfully
08-03 22:23:38.172 11503 11557 D AIProcessingService: Generated summary: The provided text only indicates a "Quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text simply describes the nature of the recording.
08-03 22:23:38.172 11503 11557 D AIProcessingService: AI Summary completed: The provided text only indicates a "Quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text simply describes the nature of the recording.
08-03 22:23:38.172 11503 11557 D AIProcessingService: Starting file save...
08-03 22:23:38.172 11503 11557 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:23:38.172 11503 11557 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "Quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text simply describes the nature of the recording.
08-03 22:23:38.173 11503 11557 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:23:38.173 11503 11557 D AIProcessingService: File exists before: true
08-03 22:23:38.176 11503 11557 D AIProcessingService: Entry to append: 
08-03 22:23:38.176 11503 11557 D AIProcessingService: [2025-08-03 22:23:38]
08-03 22:23:38.176 11503 11557 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:23:38.176 11503 11557 D AIProcessingService: AI SUMMARY: The provided text only indicates a "Quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text simply describes the nature of the recording.
08-03 22:23:38.176 11503 11557 D AIProcessingService: 
08-03 22:23:38.176 11503 11557 D AIProcessingService: ---
08-03 22:23:38.176 11503 11557 D AIProcessingService: File exists, appending to existing file
08-03 22:23:38.177 11503 11557 D AIProcessingService: File exists after: true
08-03 22:23:38.177 11503 11557 D AIProcessingService: File size after: 1126 bytes
08-03 22:23:38.177 11503 11557 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:23:38.177 11503 11557 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:23:38.177 11503 11557 D VoiceRecorderService: AI processing completed successfully
08-03 22:25:21.759   596  2301 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{aa3b33f 11595:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:25:21.871 11595 11595 E VoiceRecorderService: 
08-03 22:25:24.133 11595 11595 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222521.mp3
08-03 22:25:24.133 11595 11595 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222521.mp3
08-03 22:25:24.134 11595 11595 D VoiceRecorderService: File exists: true, File size: 6571
08-03 22:25:24.134 11595 11620 D VoiceRecorderService: Starting AI processing for recording
08-03 22:25:24.134 11595 11620 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:25:24.134 11595 11620 D AIProcessingService: Audio file: recording_20250803_222521.mp3
08-03 22:25:24.134 11595 11620 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222521.mp3
08-03 22:25:24.134 11595 11620 D AIProcessingService: Audio file exists: true
08-03 22:25:24.134 11595 11620 D AIProcessingService: Audio file size: 6571
08-03 22:25:24.134 11595 11620 D AIProcessingService: Starting transcription...
08-03 22:25:24.134 11595 11620 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:25:24.134 11595 11620 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:25:24.134 11595 11620 D AIProcessingService: Audio file: recording_20250803_222521.mp3
08-03 22:25:24.134 11595 11620 D AIProcessingService: Audio file size: 6571 bytes
08-03 22:25:24.134 11595 11620 D AIProcessingService: Audio file exists: true
08-03 22:25:24.134 11595 11620 D AIProcessingService: API key length: 164
08-03 22:25:24.135 11595 11620 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:25:24.139 11595 11620 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:25:24.704 11595 11620 D AIProcessingService: Response received: 429
08-03 22:25:24.705 11595 11620 E AIProcessingService: Whisper API error: 429
08-03 22:25:24.705 11595 11620 E AIProcessingService: Error body: {
08-03 22:25:24.705 11595 11620 E AIProcessingService:     "error": {
08-03 22:25:24.705 11595 11620 E AIProcessingService:         "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.",
08-03 22:25:24.705 11595 11620 E AIProcessingService:         "type": "insufficient_quota",
08-03 22:25:24.705 11595 11620 E AIProcessingService:         "param": null,
08-03 22:25:24.705 11595 11620 E AIProcessingService:         "code": "insufficient_quota"
08-03 22:25:24.705 11595 11620 E AIProcessingService:     }
08-03 22:25:24.705 11595 11620 E AIProcessingService: }
08-03 22:25:24.705 11595 11620 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:25:24.705 11595 11620 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:25:24.705 11595 11620 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:25:24.705 11595 11620 D AIProcessingService: Starting AI summary generation...
08-03 22:25:24.706 11595 11620 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:25:24.713 11595 11620 D AIProcessingService: Sending request to Gemini API...
08-03 22:25:24.713 11595 11620 D AIProcessingService: API key length: 39
08-03 22:25:24.713 11595 11620 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:25:25.376 11595 11622 D AIProcessingService: Gemini API response received successfully
08-03 22:25:25.376 11595 11622 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text itself only describes the nature of the recording.
08-03 22:25:25.376 11595 11622 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text itself only describes the nature of the recording.
08-03 22:25:25.376 11595 11622 D AIProcessingService: Starting file save...
08-03 22:25:25.376 11595 11622 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:25:25.376 11595 11622 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text itself only describes the nature of the recording.
08-03 22:25:25.377 11595 11622 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:25:25.377 11595 11622 D AIProcessingService: File exists before: true
08-03 22:25:25.379 11595 11622 D AIProcessingService: Entry to append: 
08-03 22:25:25.379 11595 11622 D AIProcessingService: [2025-08-03 22:25:25]
08-03 22:25:25.379 11595 11622 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:25:25.379 11595 11622 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text itself only describes the nature of the recording.
08-03 22:25:25.379 11595 11622 D AIProcessingService: 
08-03 22:25:25.379 11595 11622 D AIProcessingService: ---
08-03 22:25:25.379 11595 11622 D AIProcessingService: File exists, appending to existing file
08-03 22:25:25.380 11595 11622 D AIProcessingService: File exists after: true
08-03 22:25:25.380 11595 11622 D AIProcessingService: File size after: 1402 bytes
08-03 22:25:25.380 11595 11622 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:25:25.380 11595 11622 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:25:25.380 11595 11622 D VoiceRecorderService: AI processing completed successfully
08-03 22:29:29.467   596  1699 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{57b71d2 11692:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:88)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:29:29.550 11692 11692 E VoiceRecorderService: 
08-03 22:29:31.950 11692 11692 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222929.mp3
08-03 22:29:31.950 11692 11692 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222929.mp3
08-03 22:29:31.950 11692 11692 D VoiceRecorderService: File exists: true, File size: 6759
08-03 22:29:31.950 11692 11716 D VoiceRecorderService: Starting AI processing for recording
08-03 22:29:31.950 11692 11716 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:29:31.950 11692 11716 D AIProcessingService: Audio file: recording_20250803_222929.mp3
08-03 22:29:31.950 11692 11716 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_222929.mp3
08-03 22:29:31.950 11692 11716 D AIProcessingService: Audio file exists: true
08-03 22:29:31.950 11692 11716 D AIProcessingService: Audio file size: 6759
08-03 22:29:31.950 11692 11716 D AIProcessingService: Starting transcription...
08-03 22:29:31.950 11692 11716 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:29:31.950 11692 11716 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:29:31.950 11692 11716 D AIProcessingService: Audio file: recording_20250803_222929.mp3
08-03 22:29:31.950 11692 11716 D AIProcessingService: Audio file size: 6759 bytes
08-03 22:29:31.950 11692 11716 D AIProcessingService: Audio file exists: true
08-03 22:29:31.950 11692 11716 D AIProcessingService: API key length: 164
08-03 22:29:31.951 11692 11716 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:29:31.956 11692 11716 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:29:35.171 11692 11716 D AIProcessingService: Response received: 400
08-03 22:29:35.173 11692 11716 E AIProcessingService: Whisper API error: 400
08-03 22:29:35.173 11692 11716 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:29:35.173 11692 11716 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:29:35.173 11692 11716 D AIProcessingService: Simulated transcription: This is a medium length recording about my daily activities and plans.
08-03 22:29:35.173 11692 11716 D AIProcessingService: Transcription completed: This is a medium length recording about my daily activities and plans.
08-03 22:29:35.173 11692 11716 D AIProcessingService: Starting AI summary generation...
08-03 22:29:35.173 11692 11716 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:29:35.182 11692 11716 D AIProcessingService: Sending request to Gemini API...
08-03 22:29:35.182 11692 11716 D AIProcessingService: API key length: 39
08-03 22:29:35.182 11692 11716 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:29:36.173 11692 11717 D AIProcessingService: Gemini API response received successfully
08-03 22:29:36.173 11692 11717 D AIProcessingService: Generated summary: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned in the provided text.
08-03 22:29:36.174 11692 11717 D AIProcessingService: AI Summary completed: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned in the provided text.
08-03 22:29:36.174 11692 11717 D AIProcessingService: Starting file save...
08-03 22:29:36.174 11692 11717 D AIProcessingService: saveToLocalFile called with transcription: This is a medium length recording about my daily activities and plans.
08-03 22:29:36.174 11692 11717 D AIProcessingService: saveToLocalFile called with summary: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned in the provided text.
08-03 22:29:36.175 11692 11717 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:29:36.175 11692 11717 D AIProcessingService: File exists before: true
08-03 22:29:36.178 11692 11717 D AIProcessingService: Entry to append: 
08-03 22:29:36.178 11692 11717 D AIProcessingService: [2025-08-03 22:29:36]
08-03 22:29:36.178 11692 11717 D AIProcessingService: TRANSCRIPTION: This is a medium length recording about my daily activities and plans.
08-03 22:29:36.178 11692 11717 D AIProcessingService: AI SUMMARY: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned in the provided text.
08-03 22:29:36.178 11692 11717 D AIProcessingService: 
08-03 22:29:36.178 11692 11717 D AIProcessingService: ---
08-03 22:29:36.179 11692 11717 D AIProcessingService: File exists, appending to existing file
08-03 22:29:36.180 11692 11717 D AIProcessingService: File exists after: true
08-03 22:29:36.180 11692 11717 D AIProcessingService: File size after: 1753 bytes
08-03 22:29:36.180 11692 11717 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:29:36.180 11692 11717 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:29:36.181 11692 11717 D VoiceRecorderService: AI processing completed successfully
08-03 22:30:53.912   596   612 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{339074 11790:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:90)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:30:54.007 11790 11790 E VoiceRecorderService: 
08-03 22:30:56.017 11790 11790 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223053.m4a
08-03 22:30:56.017 11790 11790 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223053.m4a
08-03 22:30:56.017 11790 11790 D VoiceRecorderService: File exists: true, File size: 6339
08-03 22:30:56.018 11790 11814 D VoiceRecorderService: Starting AI processing for recording
08-03 22:30:56.018 11790 11814 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:30:56.018 11790 11814 D AIProcessingService: Audio file: recording_20250803_223053.m4a
08-03 22:30:56.018 11790 11814 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223053.m4a
08-03 22:30:56.018 11790 11814 D AIProcessingService: Audio file exists: true
08-03 22:30:56.018 11790 11814 D AIProcessingService: Audio file size: 6339
08-03 22:30:56.018 11790 11814 D AIProcessingService: Starting transcription...
08-03 22:30:56.018 11790 11814 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:30:56.018 11790 11814 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:30:56.018 11790 11814 D AIProcessingService: Audio file: recording_20250803_223053.m4a
08-03 22:30:56.018 11790 11814 D AIProcessingService: Audio file size: 6339 bytes
08-03 22:30:56.018 11790 11814 D AIProcessingService: Audio file exists: true
08-03 22:30:56.018 11790 11814 D AIProcessingService: API key length: 164
08-03 22:30:56.019 11790 11814 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:30:56.023 11790 11814 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:30:57.504 11790 11814 D AIProcessingService: Response received: 400
08-03 22:30:57.507 11790 11814 E AIProcessingService: Whisper API error: 400
08-03 22:30:57.507 11790 11814 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:30:57.507 11790 11814 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:30:57.507 11790 11814 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:30:57.508 11790 11814 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:30:57.508 11790 11814 D AIProcessingService: Starting AI summary generation...
08-03 22:30:57.508 11790 11814 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:30:57.518 11790 11814 D AIProcessingService: Sending request to Gemini API...
08-03 22:30:57.518 11790 11814 D AIProcessingService: API key length: 39
08-03 22:30:57.518 11790 11814 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:30:58.298 11790 11814 D AIProcessingService: Gemini API response received successfully
08-03 22:30:58.298 11790 11814 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  A summary is impossible without details about the recording's subject matter or content.
08-03 22:30:58.299 11790 11814 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  A summary is impossible without details about the recording's subject matter or content.
08-03 22:30:58.299 11790 11814 D AIProcessingService: Starting file save...
08-03 22:30:58.299 11790 11814 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:30:58.299 11790 11814 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  A summary is impossible without details about the recording's subject matter or content.
08-03 22:30:58.299 11790 11814 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:30:58.300 11790 11814 D AIProcessingService: File exists before: true
08-03 22:30:58.302 11790 11814 D AIProcessingService: Entry to append: 
08-03 22:30:58.302 11790 11814 D AIProcessingService: [2025-08-03 22:30:58]
08-03 22:30:58.302 11790 11814 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:30:58.302 11790 11814 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  A summary is impossible without details about the recording's subject matter or content.
08-03 22:30:58.302 11790 11814 D AIProcessingService: 
08-03 22:30:58.302 11790 11814 D AIProcessingService: ---
08-03 22:30:58.303 11790 11814 D AIProcessingService: File exists, appending to existing file
08-03 22:30:58.303 11790 11814 D AIProcessingService: File exists after: true
08-03 22:30:58.303 11790 11814 D AIProcessingService: File size after: 2058 bytes
08-03 22:30:58.303 11790 11814 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:30:58.303 11790 11814 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:30:58.304 11790 11814 D VoiceRecorderService: AI processing completed successfully
08-03 22:32:25.565   596  1704 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{7dbd49 11886:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:90)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:32:25.666 11886 11886 E VoiceRecorderService: 
08-03 22:32:27.466 11886 11886 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223225.3gp
08-03 22:32:27.466 11886 11886 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223225.3gp
08-03 22:32:27.466 11886 11886 D VoiceRecorderService: File exists: true, File size: 6048
08-03 22:32:27.467 11886 11912 D VoiceRecorderService: Starting AI processing for recording
08-03 22:32:27.467 11886 11912 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:32:27.467 11886 11912 D AIProcessingService: Audio file: recording_20250803_223225.3gp
08-03 22:32:27.468 11886 11912 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223225.3gp
08-03 22:32:27.468 11886 11912 D AIProcessingService: Audio file exists: true
08-03 22:32:27.468 11886 11912 D AIProcessingService: Audio file size: 6048
08-03 22:32:27.468 11886 11912 D AIProcessingService: Starting transcription...
08-03 22:32:27.468 11886 11912 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:32:27.468 11886 11912 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:32:27.468 11886 11912 D AIProcessingService: Audio file: recording_20250803_223225.3gp
08-03 22:32:27.468 11886 11912 D AIProcessingService: Audio file size: 6048 bytes
08-03 22:32:27.468 11886 11912 D AIProcessingService: Audio file exists: true
08-03 22:32:27.468 11886 11912 D AIProcessingService: API key length: 164
08-03 22:32:27.468 11886 11912 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:32:27.474 11886 11912 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:32:29.775 11886 11912 D AIProcessingService: Response received: 400
08-03 22:32:29.777 11886 11912 E AIProcessingService: Whisper API error: 400
08-03 22:32:29.777 11886 11912 E AIProcessingService: Error body: {"error":{"message":"Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:32:29.777 11886 11912 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:32:29.777 11886 11912 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:32:29.778 11886 11912 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:32:29.778 11886 11912 D AIProcessingService: Starting AI summary generation...
08-03 22:32:29.778 11886 11912 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:32:29.787 11886 11912 D AIProcessingService: Sending request to Gemini API...
08-03 22:32:29.787 11886 11912 D AIProcessingService: API key length: 39
08-03 22:32:29.787 11886 11912 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:32:30.420 11886 11911 D AIProcessingService: Gemini API response received successfully
08-03 22:32:30.420 11886 11911 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text lacks any substantive information or key ideas.
08-03 22:32:30.421 11886 11911 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text lacks any substantive information or key ideas.
08-03 22:32:30.421 11886 11911 D AIProcessingService: Starting file save...
08-03 22:32:30.421 11886 11911 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:32:30.421 11886 11911 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text lacks any substantive information or key ideas.
08-03 22:32:30.421 11886 11911 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:32:30.421 11886 11911 D AIProcessingService: File exists before: true
08-03 22:32:30.425 11886 11911 D AIProcessingService: Entry to append: 
08-03 22:32:30.425 11886 11911 D AIProcessingService: [2025-08-03 22:32:30]
08-03 22:32:30.425 11886 11911 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:32:30.425 11886 11911 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text lacks any substantive information or key ideas.
08-03 22:32:30.425 11886 11911 D AIProcessingService: 
08-03 22:32:30.425 11886 11911 D AIProcessingService: ---
08-03 22:32:30.425 11886 11911 D AIProcessingService: File exists, appending to existing file
08-03 22:32:30.426 11886 11911 D AIProcessingService: File exists after: true
08-03 22:32:30.426 11886 11911 D AIProcessingService: File size after: 2331 bytes
08-03 22:32:30.426 11886 11911 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:32:30.426 11886 11911 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:32:30.426 11886 11911 D VoiceRecorderService: AI processing completed successfully
08-03 22:33:40.844   596  1669 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{300e3c3 12044:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:90)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:33:41.277 12044 12044 E VoiceRecorderService: 
08-03 22:33:42.267 12044 12044 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223340.m4a
08-03 22:33:42.267 12044 12044 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223340.m4a
08-03 22:33:42.267 12044 12044 D VoiceRecorderService: File exists: true, File size: 4714
08-03 22:33:42.268 12044 12071 D VoiceRecorderService: Starting AI processing for recording
08-03 22:33:42.268 12044 12071 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:33:42.268 12044 12071 D AIProcessingService: Audio file: recording_20250803_223340.m4a
08-03 22:33:42.268 12044 12071 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223340.m4a
08-03 22:33:42.268 12044 12071 D AIProcessingService: Audio file exists: true
08-03 22:33:42.268 12044 12071 D AIProcessingService: Audio file size: 4714
08-03 22:33:42.268 12044 12071 D AIProcessingService: Starting transcription...
08-03 22:33:42.268 12044 12071 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:33:42.268 12044 12071 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:33:42.268 12044 12071 D AIProcessingService: Audio file: recording_20250803_223340.m4a
08-03 22:33:42.268 12044 12071 D AIProcessingService: Audio file size: 4714 bytes
08-03 22:33:42.268 12044 12071 D AIProcessingService: Audio file exists: true
08-03 22:33:42.268 12044 12071 D AIProcessingService: API key length: 164
08-03 22:33:42.269 12044 12071 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:33:42.274 12044 12071 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:33:44.515 12044 12071 D AIProcessingService: Response received: 400
08-03 22:33:44.517 12044 12071 E AIProcessingService: Whisper API error: 400
08-03 22:33:44.517 12044 12071 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:33:44.517 12044 12071 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:33:44.518 12044 12071 D AIProcessingService: Simulated transcription: Quick test recording.
08-03 22:33:44.518 12044 12071 D AIProcessingService: Transcription completed: Quick test recording.
08-03 22:33:44.518 12044 12071 D AIProcessingService: Starting AI summary generation...
08-03 22:33:44.518 12044 12071 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:33:44.526 12044 12071 D AIProcessingService: Sending request to Gemini API...
08-03 22:33:44.526 12044 12071 D AIProcessingService: API key length: 39
08-03 22:33:44.526 12044 12071 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:33:45.213 12044 12070 D AIProcessingService: Gemini API response received successfully
08-03 22:33:45.213 12044 12070 D AIProcessingService: Generated summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text simply states that a short test recording was made.
08-03 22:33:45.213 12044 12070 D AIProcessingService: AI Summary completed: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text simply states that a short test recording was made.
08-03 22:33:45.213 12044 12070 D AIProcessingService: Starting file save...
08-03 22:33:45.213 12044 12070 D AIProcessingService: saveToLocalFile called with transcription: Quick test recording.
08-03 22:33:45.213 12044 12070 D AIProcessingService: saveToLocalFile called with summary: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text simply states that a short test recording was made.
08-03 22:33:45.214 12044 12070 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:33:45.214 12044 12070 D AIProcessingService: File exists before: true
08-03 22:33:45.218 12044 12070 D AIProcessingService: Entry to append: 
08-03 22:33:45.218 12044 12070 D AIProcessingService: [2025-08-03 22:33:45]
08-03 22:33:45.218 12044 12070 D AIProcessingService: TRANSCRIPTION: Quick test recording.
08-03 22:33:45.218 12044 12070 D AIProcessingService: AI SUMMARY: The provided text only indicates a "quick test recording," offering no further information.  Therefore, there is no content to summarize.  The text simply states that a short test recording was made.
08-03 22:33:45.218 12044 12070 D AIProcessingService: 
08-03 22:33:45.218 12044 12070 D AIProcessingService: ---
08-03 22:33:45.218 12044 12070 D AIProcessingService: File exists, appending to existing file
08-03 22:33:45.219 12044 12070 D AIProcessingService: File exists after: true
08-03 22:33:45.219 12044 12070 D AIProcessingService: File size after: 2608 bytes
08-03 22:33:45.219 12044 12070 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:33:45.219 12044 12070 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:33:45.219 12044 12070 D VoiceRecorderService: AI processing completed successfully
08-03 22:36:27.678   596  1704 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{8d0e1f9 12234:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:90)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:36:27.787 12234 12234 E VoiceRecorderService: 
08-03 22:36:36.783 12234 12234 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223627.mp3
08-03 22:36:36.783 12234 12234 D VoiceRecorderService: Final file size: 17262 bytes
08-03 22:36:36.783 12234 12234 D VoiceRecorderService: File exists: true
08-03 22:36:36.783 12234 12234 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223627.mp3
08-03 22:36:36.783 12234 12234 D VoiceRecorderService: File exists: true, File size: 17262
08-03 22:36:36.784 12234 12258 D VoiceRecorderService: Starting AI processing for recording
08-03 22:36:36.784 12234 12258 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:36:36.784 12234 12258 D AIProcessingService: Audio file: recording_20250803_223627.mp3
08-03 22:36:36.784 12234 12258 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223627.mp3
08-03 22:36:36.784 12234 12258 D AIProcessingService: Audio file exists: true
08-03 22:36:36.784 12234 12258 D AIProcessingService: Audio file size: 17262
08-03 22:36:36.784 12234 12258 D AIProcessingService: Starting transcription...
08-03 22:36:36.785 12234 12258 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:36:36.789 12234 12258 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:36:36.789 12234 12258 D AIProcessingService: Audio file: recording_20250803_223627.mp3
08-03 22:36:36.789 12234 12258 D AIProcessingService: Audio file size: 17262 bytes
08-03 22:36:36.789 12234 12258 D AIProcessingService: Audio file exists: true
08-03 22:36:36.789 12234 12258 D AIProcessingService: API key length: 164
08-03 22:36:36.790 12234 12258 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:36:36.795 12234 12258 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:36:39.370 12234 12258 D AIProcessingService: Response received: 400
08-03 22:36:39.372 12234 12258 E AIProcessingService: Whisper API error: 400
08-03 22:36:39.372 12234 12258 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:36:39.372 12234 12258 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:36:39.372 12234 12258 D AIProcessingService: Simulated transcription: This is a medium length recording about my daily activities and plans.
08-03 22:36:39.372 12234 12258 D AIProcessingService: Transcription completed: This is a medium length recording about my daily activities and plans.
08-03 22:36:39.373 12234 12258 D AIProcessingService: Starting AI summary generation...
08-03 22:36:39.373 12234 12258 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:36:39.379 12234 12258 D AIProcessingService: Sending request to Gemini API...
08-03 22:36:39.379 12234 12258 D AIProcessingService: API key length: 39
08-03 22:36:39.379 12234 12258 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:36:40.183 12234 12290 D AIProcessingService: Gemini API response received successfully
08-03 22:36:40.184 12234 12290 D AIProcessingService: Generated summary: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned within this short description.
08-03 22:36:40.184 12234 12290 D AIProcessingService: AI Summary completed: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned within this short description.
08-03 22:36:40.184 12234 12290 D AIProcessingService: Starting file save...
08-03 22:36:40.184 12234 12290 D AIProcessingService: saveToLocalFile called with transcription: This is a medium length recording about my daily activities and plans.
08-03 22:36:40.184 12234 12290 D AIProcessingService: saveToLocalFile called with summary: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned within this short description.
08-03 22:36:40.184 12234 12290 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:36:40.185 12234 12290 D AIProcessingService: File exists before: false
08-03 22:36:40.188 12234 12290 D AIProcessingService: Entry to append: 
08-03 22:36:40.188 12234 12290 D AIProcessingService: [2025-08-03 22:36:40]
08-03 22:36:40.188 12234 12290 D AIProcessingService: TRANSCRIPTION: This is a medium length recording about my daily activities and plans.
08-03 22:36:40.188 12234 12290 D AIProcessingService: AI SUMMARY: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned within this short description.
08-03 22:36:40.188 12234 12290 D AIProcessingService: 
08-03 22:36:40.188 12234 12290 D AIProcessingService: ---
08-03 22:36:40.188 12234 12290 D AIProcessingService: File doesn't exist, creating new file
08-03 22:36:40.189 12234 12290 D AIProcessingService: File exists after: true
08-03 22:36:40.189 12234 12290 D AIProcessingService: File size after: 384 bytes
08-03 22:36:40.189 12234 12290 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:36:40.189 12234 12290 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:36:40.189 12234 12290 D VoiceRecorderService: AI processing completed successfully
08-03 22:38:04.360   596  1669 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{976e40b 12331:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:90)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:47)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:38:04.479 12331 12331 E VoiceRecorderService: 
08-03 22:38:16.482 12331 12331 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223804.m4a
08-03 22:38:16.483 12331 12331 D VoiceRecorderService: Final file size: 21608 bytes
08-03 22:38:16.483 12331 12331 D VoiceRecorderService: File exists: true
08-03 22:38:16.483 12331 12331 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223804.m4a
08-03 22:38:16.483 12331 12331 D VoiceRecorderService: File exists: true, File size: 21608
08-03 22:38:16.483 12331 12366 D VoiceRecorderService: Starting AI processing for recording
08-03 22:38:16.483 12331 12366 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:38:16.483 12331 12366 D AIProcessingService: Audio file: recording_20250803_223804.m4a
08-03 22:38:16.483 12331 12366 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_223804.m4a
08-03 22:38:16.484 12331 12366 D AIProcessingService: Audio file exists: true
08-03 22:38:16.484 12331 12366 D AIProcessingService: Audio file size: 21608
08-03 22:38:16.484 12331 12366 D AIProcessingService: Starting transcription...
08-03 22:38:16.484 12331 12366 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:38:16.484 12331 12366 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:38:16.485 12331 12366 D AIProcessingService: Audio file: recording_20250803_223804.m4a
08-03 22:38:16.485 12331 12366 D AIProcessingService: Audio file size: 21608 bytes
08-03 22:38:16.485 12331 12366 D AIProcessingService: Audio file exists: true
08-03 22:38:16.485 12331 12366 D AIProcessingService: API key length: 164
08-03 22:38:16.485 12331 12366 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:38:16.491 12331 12366 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:38:17.783 12331 12366 D AIProcessingService: Response received: 400
08-03 22:38:17.786 12331 12366 E AIProcessingService: Whisper API error: 400
08-03 22:38:17.786 12331 12366 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:38:17.786 12331 12366 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:38:17.787 12331 12366 D AIProcessingService: Simulated transcription: This is a medium length recording about my daily activities and plans.
08-03 22:38:17.787 12331 12366 D AIProcessingService: Transcription completed: This is a medium length recording about my daily activities and plans.
08-03 22:38:17.787 12331 12366 D AIProcessingService: Starting AI summary generation...
08-03 22:38:17.788 12331 12366 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:38:17.797 12331 12366 D AIProcessingService: Sending request to Gemini API...
08-03 22:38:17.797 12331 12366 D AIProcessingService: API key length: 39
08-03 22:38:17.797 12331 12366 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:38:18.533 12331 12399 D AIProcessingService: Gemini API response received successfully
08-03 22:38:18.533 12331 12399 D AIProcessingService: Generated summary: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned.
08-03 22:38:18.533 12331 12399 D AIProcessingService: AI Summary completed: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned.
08-03 22:38:18.533 12331 12399 D AIProcessingService: Starting file save...
08-03 22:38:18.533 12331 12399 D AIProcessingService: saveToLocalFile called with transcription: This is a medium length recording about my daily activities and plans.
08-03 22:38:18.533 12331 12399 D AIProcessingService: saveToLocalFile called with summary: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned.
08-03 22:38:18.534 12331 12399 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:38:18.534 12331 12399 D AIProcessingService: File exists before: true
08-03 22:38:18.539 12331 12399 D AIProcessingService: Entry to append: 
08-03 22:38:18.539 12331 12399 D AIProcessingService: [2025-08-03 22:38:18]
08-03 22:38:18.539 12331 12399 D AIProcessingService: TRANSCRIPTION: This is a medium length recording about my daily activities and plans.
08-03 22:38:18.539 12331 12399 D AIProcessingService: AI SUMMARY: The recording details the speaker's daily routine and schedule.  It covers a moderate amount of time and focuses on their activities and plans for the day.  No specific activities or plans are mentioned.
08-03 22:38:18.539 12331 12399 D AIProcessingService: 
08-03 22:38:18.539 12331 12399 D AIProcessingService: ---
08-03 22:38:18.539 12331 12399 D AIProcessingService: File exists, appending to existing file
08-03 22:38:18.543 12331 12399 D AIProcessingService: File exists after: true
08-03 22:38:18.543 12331 12399 D AIProcessingService: File size after: 714 bytes
08-03 22:38:18.543 12331 12399 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:38:18.543 12331 12399 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:38:18.543 12331 12399 D VoiceRecorderService: AI processing completed successfully
08-03 22:42:13.107   596  1719 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{7792918 12444:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:93)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:49)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:42:13.203 12444 12444 E VoiceRecorderService: 
08-03 22:42:18.001 12444 12444 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_224213.m4a
08-03 22:42:18.001 12444 12444 D VoiceRecorderService: Final file size: 60064 bytes
08-03 22:42:18.001 12444 12444 D VoiceRecorderService: File exists: true
08-03 22:42:18.001 12444 12444 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_224213.m4a
08-03 22:42:18.001 12444 12444 D VoiceRecorderService: File exists: true, File size: 60064
08-03 22:42:18.002 12444 12471 D VoiceRecorderService: Starting AI processing for recording
08-03 22:42:18.002 12444 12471 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:42:18.002 12444 12471 D AIProcessingService: Audio file: recording_20250803_224213.m4a
08-03 22:42:18.002 12444 12471 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_224213.m4a
08-03 22:42:18.002 12444 12471 D AIProcessingService: Audio file exists: true
08-03 22:42:18.002 12444 12471 D AIProcessingService: Audio file size: 60064
08-03 22:42:18.002 12444 12471 D AIProcessingService: Starting transcription...
08-03 22:42:18.002 12444 12471 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:42:18.002 12444 12471 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:42:18.002 12444 12471 D AIProcessingService: Audio file: recording_20250803_224213.m4a
08-03 22:42:18.002 12444 12471 D AIProcessingService: Audio file size: 60064 bytes
08-03 22:42:18.002 12444 12471 D AIProcessingService: Audio file exists: true
08-03 22:42:18.002 12444 12471 D AIProcessingService: API key length: 164
08-03 22:42:18.003 12444 12471 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:42:18.008 12444 12471 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:42:19.041 12444 12471 D AIProcessingService: Response received: 400
08-03 22:42:19.043 12444 12471 E AIProcessingService: Whisper API error: 400
08-03 22:42:19.043 12444 12471 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:42:19.043 12444 12471 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:42:19.043 12444 12471 D AIProcessingService: Simulated transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:42:19.044 12444 12471 D AIProcessingService: Transcription completed: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:42:19.044 12444 12471 D AIProcessingService: Starting AI summary generation...
08-03 22:42:19.045 12444 12471 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:42:19.054 12444 12471 D AIProcessingService: Sending request to Gemini API...
08-03 22:42:19.054 12444 12471 D AIProcessingService: API key length: 39
08-03 22:42:19.054 12444 12471 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:42:19.741 12444 12472 D AIProcessingService: Gemini API response received successfully
08-03 22:42:19.741 12444 12472 D AIProcessingService: Generated summary: The recording details a week's schedule encompassing professional meetings, appointments, and personal tasks.  Several crucial deadlines necessitate prioritization of work.  The speaker is outlining their plan to manage these commitments effectively.
08-03 22:42:19.741 12444 12472 D AIProcessingService: AI Summary completed: The recording details a week's schedule encompassing professional meetings, appointments, and personal tasks.  Several crucial deadlines necessitate prioritization of work.  The speaker is outlining their plan to manage these commitments effectively.
08-03 22:42:19.741 12444 12472 D AIProcessingService: Starting file save...
08-03 22:42:19.741 12444 12472 D AIProcessingService: saveToLocalFile called with transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:42:19.741 12444 12472 D AIProcessingService: saveToLocalFile called with summary: The recording details a week's schedule encompassing professional meetings, appointments, and personal tasks.  Several crucial deadlines necessitate prioritization of work.  The speaker is outlining their plan to manage these commitments effectively.
08-03 22:42:19.742 12444 12472 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:42:19.742 12444 12472 D AIProcessingService: File exists before: true
08-03 22:42:19.746 12444 12472 D AIProcessingService: Entry to append: 
08-03 22:42:19.746 12444 12472 D AIProcessingService: [2025-08-03 22:42:19]
08-03 22:42:19.746 12444 12472 D AIProcessingService: TRANSCRIPTION: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:42:19.746 12444 12472 D AIProcessingService: AI SUMMARY: The recording details a week's schedule encompassing professional meetings, appointments, and personal tasks.  Several crucial deadlines necessitate prioritization of work.  The speaker is outlining their plan to manage these commitments effectively.
08-03 22:42:19.746 12444 12472 D AIProcessingService: 
08-03 22:42:19.746 12444 12472 D AIProcessingService: ---
08-03 22:42:19.747 12444 12472 D AIProcessingService: File exists, appending to existing file
08-03 22:42:19.747 12444 12472 D AIProcessingService: File exists after: true
08-03 22:42:19.748 12444 12472 D AIProcessingService: File size after: 1253 bytes
08-03 22:42:19.748 12444 12472 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:42:19.748 12444 12472 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:42:19.748 12444 12472 D VoiceRecorderService: AI processing completed successfully
08-03 22:45:24.628   596   967 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{50cf2 12648:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:93)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:49)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:45:24.730 12648 12648 E VoiceRecorderService: 
08-03 22:45:28.050 12648 12648 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_224524.m4a
08-03 22:45:28.050 12648 12648 D VoiceRecorderService: Final file size: 42400 bytes
08-03 22:45:28.050 12648 12648 D VoiceRecorderService: File exists: true
08-03 22:45:28.050 12648 12648 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_224524.m4a
08-03 22:45:28.050 12648 12648 D VoiceRecorderService: File exists: true, File size: 42400
08-03 22:45:28.051 12648 12674 D VoiceRecorderService: Starting AI processing for recording
08-03 22:45:28.051 12648 12674 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:45:28.051 12648 12674 D AIProcessingService: Audio file: recording_20250803_224524.m4a
08-03 22:45:28.051 12648 12674 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_224524.m4a
08-03 22:45:28.051 12648 12674 D AIProcessingService: Audio file exists: true
08-03 22:45:28.051 12648 12674 D AIProcessingService: Audio file size: 42400
08-03 22:45:28.051 12648 12674 D AIProcessingService: Starting transcription...
08-03 22:45:28.051 12648 12674 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:45:28.051 12648 12674 D AIProcessingService: === WHISPER TRANSCRIPTION STARTED ===
08-03 22:45:28.051 12648 12674 D AIProcessingService: Audio file: recording_20250803_224524.m4a
08-03 22:45:28.051 12648 12674 D AIProcessingService: Audio file size: 42400 bytes
08-03 22:45:28.051 12648 12674 D AIProcessingService: Audio file exists: true
08-03 22:45:28.052 12648 12674 D AIProcessingService: File extension: m4a
08-03 22:45:28.052 12648 12674 D AIProcessingService: Content-Type: audio/x-m4a
08-03 22:45:28.052 12648 12674 D AIProcessingService: API key length: 164
08-03 22:45:28.052 12648 12674 D AIProcessingService: API key starts with: sk-proj-HJ...
08-03 22:45:28.056 12648 12674 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:45:28.786 12648 12674 D AIProcessingService: Response received: 400
08-03 22:45:28.787 12648 12674 E AIProcessingService: Whisper API error: 400
08-03 22:45:28.787 12648 12674 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:45:28.787 12648 12674 D AIProcessingService: M4A transcription failed, trying with MP3 format...
08-03 22:45:28.787 12648 12674 D AIProcessingService: === WHISPER MP3 TRANSCRIPTION STARTED ===
08-03 22:45:28.787 12648 12674 D AIProcessingService: Audio file: recording_20250803_224524.m4a
08-03 22:45:28.788 12648 12674 D AIProcessingService: Audio file size: 50848 bytes
08-03 22:45:28.788 12648 12674 D AIProcessingService: Sending request to OpenAI Whisper API with MP3 content type...
08-03 22:45:29.298 12648 12674 D AIProcessingService: MP3 Response received: 400
08-03 22:45:29.299 12648 12674 E AIProcessingService: Whisper MP3 API error: 400
08-03 22:45:29.299 12648 12674 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:45:29.299 12648 12674 D AIProcessingService: Using simulated transcription as final fallback...
08-03 22:45:29.299 12648 12674 D AIProcessingService: Simulated transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:45:29.299 12648 12674 D AIProcessingService: Transcription completed: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:45:29.299 12648 12674 D AIProcessingService: Starting AI summary generation...
08-03 22:45:29.300 12648 12674 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:45:29.302 12648 12674 D AIProcessingService: Sending request to Gemini API...
08-03 22:45:29.302 12648 12674 D AIProcessingService: API key length: 39
08-03 22:45:29.302 12648 12674 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:45:30.045 12648 12674 D AIProcessingService: Gemini API response received successfully
08-03 22:45:30.045 12648 12674 D AIProcessingService: Generated summary: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several crucial deadlines necessitate prioritization of work activities.  The speaker outlines their plan for managing these commitments.
08-03 22:45:30.045 12648 12674 D AIProcessingService: AI Summary completed: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several crucial deadlines necessitate prioritization of work activities.  The speaker outlines their plan for managing these commitments.
08-03 22:45:30.045 12648 12674 D AIProcessingService: Starting file save...
08-03 22:45:30.045 12648 12674 D AIProcessingService: saveToLocalFile called with transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:45:30.045 12648 12674 D AIProcessingService: saveToLocalFile called with summary: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several crucial deadlines necessitate prioritization of work activities.  The speaker outlines their plan for managing these commitments.
08-03 22:45:30.046 12648 12674 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:45:30.046 12648 12674 D AIProcessingService: File exists before: false
08-03 22:45:30.050 12648 12674 D AIProcessingService: Entry to append: 
08-03 22:45:30.050 12648 12674 D AIProcessingService: [2025-08-03 22:45:30]
08-03 22:45:30.050 12648 12674 D AIProcessingService: TRANSCRIPTION: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:45:30.050 12648 12674 D AIProcessingService: AI SUMMARY: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several crucial deadlines necessitate prioritization of work activities.  The speaker outlines their plan for managing these commitments.
08-03 22:45:30.050 12648 12674 D AIProcessingService: 
08-03 22:45:30.050 12648 12674 D AIProcessingService: ---
08-03 22:45:30.051 12648 12674 D AIProcessingService: File doesn't exist, creating new file
08-03 22:45:30.052 12648 12674 D AIProcessingService: File exists after: true
08-03 22:45:30.052 12648 12674 D AIProcessingService: File size after: 553 bytes
08-03 22:45:30.052 12648 12674 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:45:30.052 12648 12674 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:45:30.052 12648 12674 D VoiceRecorderService: AI processing completed successfully
08-03 22:52:16.584   596  2189 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{bbaa765 12748:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:93)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:49)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:52:16.732 12748 12748 E VoiceRecorderService: 
08-03 22:52:21.432 12748 12748 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_225216.m4a
08-03 22:52:21.432 12748 12748 D VoiceRecorderService: Final file size: 59296 bytes
08-03 22:52:21.432 12748 12748 D VoiceRecorderService: File exists: true
08-03 22:52:21.432 12748 12748 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_225216.m4a
08-03 22:52:21.432 12748 12748 D VoiceRecorderService: File exists: true, File size: 59296
08-03 22:52:21.433 12748 12773 D VoiceRecorderService: Starting AI processing for recording
08-03 22:52:21.433 12748 12773 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:52:21.433 12748 12773 D AIProcessingService: Audio file: recording_20250803_225216.m4a
08-03 22:52:21.433 12748 12773 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_225216.m4a
08-03 22:52:21.433 12748 12773 D AIProcessingService: Audio file exists: true
08-03 22:52:21.433 12748 12773 D AIProcessingService: Audio file size: 59296
08-03 22:52:21.433 12748 12773 D AIProcessingService: Starting transcription...
08-03 22:52:21.433 12748 12773 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:52:21.434 12748 12773 D AIProcessingService: Trying transcription with M4A format (Content-Type: audio/x-m4a)...
08-03 22:52:21.434 12748 12773 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 22:52:21.434 12748 12773 D AIProcessingService: Audio file: recording_20250803_225216.m4a
08-03 22:52:21.434 12748 12773 D AIProcessingService: Audio file size: 59296 bytes
08-03 22:52:21.434 12748 12773 D AIProcessingService: Content-Type: audio/x-m4a
08-03 22:52:21.438 12748 12773 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:52:22.843 12748 12773 D AIProcessingService: Response received: 400
08-03 22:52:22.846 12748 12773 E AIProcessingService: Whisper API error: 400
08-03 22:52:22.846 12748 12773 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:52:22.846 12748 12773 D AIProcessingService: M4A format transcription failed, trying next format...
08-03 22:52:22.847 12748 12773 D AIProcessingService: Trying transcription with MP4 format (Content-Type: audio/mp4)...
08-03 22:52:22.847 12748 12773 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 22:52:22.847 12748 12773 D AIProcessingService: Audio file: recording_20250803_225216.m4a
08-03 22:52:22.848 12748 12773 D AIProcessingService: Audio file size: 76192 bytes
08-03 22:52:22.848 12748 12773 D AIProcessingService: Content-Type: audio/mp4
08-03 22:52:22.849 12748 12773 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:52:24.294 12748 12773 D AIProcessingService: Response received: 400
08-03 22:52:24.338 12748 12773 E AIProcessingService: Whisper API error: 400
08-03 22:52:24.338 12748 12773 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:52:24.338 12748 12773 D AIProcessingService: MP4 format transcription failed, trying next format...
08-03 22:52:24.338 12748 12773 D AIProcessingService: Trying transcription with MP3 format (Content-Type: audio/mpeg)...
08-03 22:52:24.338 12748 12773 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 22:52:24.338 12748 12773 D AIProcessingService: Audio file: recording_20250803_225216.m4a
08-03 22:52:24.338 12748 12773 D AIProcessingService: Audio file size: 93856 bytes
08-03 22:52:24.338 12748 12773 D AIProcessingService: Content-Type: audio/mpeg
08-03 22:52:24.339 12748 12773 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:52:25.047 12748 12773 D AIProcessingService: Response received: 400
08-03 22:52:25.047 12748 12773 E AIProcessingService: Whisper API error: 400
08-03 22:52:25.047 12748 12773 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:52:25.047 12748 12773 D AIProcessingService: MP3 format transcription failed, trying next format...
08-03 22:52:25.047 12748 12773 D AIProcessingService: Trying transcription with WAV format (Content-Type: audio/wav)...
08-03 22:52:25.047 12748 12773 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 22:52:25.047 12748 12773 D AIProcessingService: Audio file: recording_20250803_225216.m4a
08-03 22:52:25.048 12748 12773 D AIProcessingService: Audio file size: 102304 bytes
08-03 22:52:25.048 12748 12773 D AIProcessingService: Content-Type: audio/wav
08-03 22:52:25.048 12748 12773 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:52:26.890 12748 12773 D AIProcessingService: Response received: 400
08-03 22:52:26.933 12748 12773 E AIProcessingService: Whisper API error: 400
08-03 22:52:26.933 12748 12773 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:52:26.933 12748 12773 D AIProcessingService: WAV format transcription failed, trying next format...
08-03 22:52:26.933 12748 12773 D AIProcessingService: All real transcription attempts failed, using simulated transcription
08-03 22:52:26.933 12748 12773 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:52:26.933 12748 12773 D AIProcessingService: Simulated transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:52:26.933 12748 12773 D AIProcessingService: Transcription completed: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:52:26.933 12748 12773 D AIProcessingService: Starting AI summary generation...
08-03 22:52:26.934 12748 12773 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:52:26.937 12748 12773 D AIProcessingService: Sending request to Gemini API...
08-03 22:52:26.937 12748 12773 D AIProcessingService: API key length: 39
08-03 22:52:26.937 12748 12773 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:52:27.637 12748 12773 D AIProcessingService: Gemini API response received successfully
08-03 22:52:27.637 12748 12773 D AIProcessingService: Generated summary: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several important deadlines necessitate careful prioritization of the speaker's workload.
08-03 22:52:27.637 12748 12773 D AIProcessingService: AI Summary completed: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several important deadlines necessitate careful prioritization of the speaker's workload.
08-03 22:52:27.637 12748 12773 D AIProcessingService: Starting file save...
08-03 22:52:27.637 12748 12773 D AIProcessingService: saveToLocalFile called with transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:52:27.637 12748 12773 D AIProcessingService: saveToLocalFile called with summary: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several important deadlines necessitate careful prioritization of the speaker's workload.
08-03 22:52:27.638 12748 12773 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:52:27.638 12748 12773 D AIProcessingService: File exists before: true
08-03 22:52:27.642 12748 12773 D AIProcessingService: Entry to append: 
08-03 22:52:27.642 12748 12773 D AIProcessingService: [2025-08-03 22:52:27]
08-03 22:52:27.642 12748 12773 D AIProcessingService: TRANSCRIPTION: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:52:27.642 12748 12773 D AIProcessingService: AI SUMMARY: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several important deadlines necessitate careful prioritization of the speaker's workload.
08-03 22:52:27.642 12748 12773 D AIProcessingService: 
08-03 22:52:27.642 12748 12773 D AIProcessingService: ---
08-03 22:52:27.643 12748 12773 D AIProcessingService: File exists, appending to existing file
08-03 22:52:27.643 12748 12773 D AIProcessingService: File exists after: true
08-03 22:52:27.644 12748 12773 D AIProcessingService: File size after: 1034 bytes
08-03 22:52:27.644 12748 12773 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:52:27.644 12748 12773 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:52:27.644 12748 12773 D VoiceRecorderService: AI processing completed successfully
08-03 22:58:27.484   596  1719 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 22:58:27.529 12955 12955 D VoiceRecorderService: === RECORDING START ===
08-03 22:58:27.529 12955 12955 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_225827.m4a
08-03 22:58:27.529 12955 12955 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 22:58:27.545 12955 12955 D VoiceRecorderService: Preparing MediaRecorder...
08-03 22:58:27.546 12955 12955 D VoiceRecorderService: Starting MediaRecorder...
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: Error initializing MediaRecorder
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{17c471 12955:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:50)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: 
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: Exception type: SecurityException
08-03 22:58:27.591 12955 12955 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{17c471 12955:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 22:58:27.591 12955 12955 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 22:58:27.591 12955 12955 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:50)
08-03 22:58:32.000 12955 12955 D VoiceRecorderService: === RECORDING STOP ===
08-03 22:58:32.000 12955 12955 D VoiceRecorderService: Stopping MediaRecorder...
08-03 22:58:32.000 12955 12955 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_225827.m4a
08-03 22:58:32.000 12955 12955 D VoiceRecorderService: Final file size: 55895 bytes
08-03 22:58:32.000 12955 12955 D VoiceRecorderService: File exists: true
08-03 22:58:32.000 12955 12955 D VoiceRecorderService: File can read: true
08-03 22:58:32.000 12955 12955 D VoiceRecorderService: File can write: true
08-03 22:58:32.000 12955 12955 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 22:58:32.020 12955 12955 D VoiceRecorderService: Audio file info:
08-03 22:58:32.020 12955 12955 D VoiceRecorderService: File: recording_20250803_225827.m4a
08-03 22:58:32.020 12955 12955 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_225827.m4a
08-03 22:58:32.020 12955 12955 D VoiceRecorderService: Size: 55895 bytes
08-03 22:58:32.020 12955 12955 D VoiceRecorderService: Error: Prepare failed.: status=0x1
08-03 22:58:32.020 12955 12955 D VoiceRecorderService: Exists: true
08-03 22:58:32.020 12955 12955 D VoiceRecorderService: Can Read: true
08-03 22:58:32.020 12955 12955 D VoiceRecorderService: Can Write: true
08-03 22:58:32.029 12955 12955 E AudioTestHelper: 	at com.example.voicerecorderwearos.VoiceRecorderService.stopRecording(VoiceRecorderService.kt:148)
08-03 22:58:32.029 12955 12955 E AudioTestHelper: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 22:58:32.030 12955 12955 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.stopRecording(VoiceRecorderService.kt:148)
08-03 22:58:32.030 12955 12955 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 22:58:32.030 12955 12955 D VoiceRecorderService: Audio playback test result: false
08-03 22:58:32.030 12955 12955 E VoiceRecorderService: WARNING: Audio file failed playback test - recording may be silent!
08-03 22:58:32.030 12955 12955 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_225827.m4a
08-03 22:58:32.030 12955 12955 D VoiceRecorderService: File exists: true, File size: 56174
08-03 22:58:32.031 12955 12980 D VoiceRecorderService: Starting AI processing for recording
08-03 22:58:32.031 12955 12980 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 22:58:32.031 12955 12980 D AIProcessingService: Audio file: recording_20250803_225827.m4a
08-03 22:58:32.031 12955 12980 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_225827.m4a
08-03 22:58:32.031 12955 12980 D AIProcessingService: Audio file exists: true
08-03 22:58:32.031 12955 12980 D AIProcessingService: Audio file size: 56174
08-03 22:58:32.031 12955 12980 D AIProcessingService: Starting transcription...
08-03 22:58:32.031 12955 12980 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 22:58:32.031 12955 12980 D AIProcessingService: Converting audio to Whisper-compatible WAV format...
08-03 22:58:32.035 12955 12980 D AIProcessingService: WAV transcription failed, trying with original M4A file...
08-03 22:58:32.035 12955 12980 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 22:58:32.035 12955 12980 D AIProcessingService: Audio file: recording_20250803_225827.m4a
08-03 22:58:32.035 12955 12980 D AIProcessingService: Audio file size: 56174 bytes
08-03 22:58:32.035 12955 12980 D AIProcessingService: Content-Type: audio/x-m4a
08-03 22:58:32.043 12955 12980 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 22:58:33.437 12955 12980 D AIProcessingService: Response received: 400
08-03 22:58:33.439 12955 12980 E AIProcessingService: Whisper API error: 400
08-03 22:58:33.439 12955 12980 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 22:58:33.439 12955 12980 D AIProcessingService: All real transcription attempts failed, using simulated transcription
08-03 22:58:33.439 12955 12980 D AIProcessingService: Using simulated transcription as fallback...
08-03 22:58:33.439 12955 12980 D AIProcessingService: Simulated transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:58:33.440 12955 12980 D AIProcessingService: Transcription completed: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:58:33.440 12955 12980 D AIProcessingService: Starting AI summary generation...
08-03 22:58:33.440 12955 12980 D AIProcessingService: Creating prompt for Gemini API...
08-03 22:58:33.448 12955 12980 D AIProcessingService: Sending request to Gemini API...
08-03 22:58:33.448 12955 12980 D AIProcessingService: API key length: 39
08-03 22:58:33.449 12955 12980 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 22:58:34.231 12955 12981 D AIProcessingService: Gemini API response received successfully
08-03 22:58:34.232 12955 12981 D AIProcessingService: Generated summary: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several crucial deadlines necessitate careful prioritization of the speaker's workload.
08-03 22:58:34.232 12955 12981 D AIProcessingService: AI Summary completed: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several crucial deadlines necessitate careful prioritization of the speaker's workload.
08-03 22:58:34.232 12955 12981 D AIProcessingService: Starting file save...
08-03 22:58:34.232 12955 12981 D AIProcessingService: saveToLocalFile called with transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:58:34.232 12955 12981 D AIProcessingService: saveToLocalFile called with summary: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several crucial deadlines necessitate careful prioritization of the speaker's workload.
08-03 22:58:34.232 12955 12981 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:58:34.232 12955 12981 D AIProcessingService: File exists before: false
08-03 22:58:34.235 12955 12981 D AIProcessingService: Entry to append: 
08-03 22:58:34.235 12955 12981 D AIProcessingService: [2025-08-03 22:58:34]
08-03 22:58:34.235 12955 12981 D AIProcessingService: TRANSCRIPTION: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 22:58:34.235 12955 12981 D AIProcessingService: AI SUMMARY: The recording details a weekly schedule encompassing work meetings, appointments, and personal tasks.  Several crucial deadlines necessitate careful prioritization of the speaker's workload.
08-03 22:58:34.235 12955 12981 D AIProcessingService: 
08-03 22:58:34.235 12955 12981 D AIProcessingService: ---
08-03 22:58:34.236 12955 12981 D AIProcessingService: File doesn't exist, creating new file
08-03 22:58:34.236 12955 12981 D AIProcessingService: File exists after: true
08-03 22:58:34.236 12955 12981 D AIProcessingService: File size after: 503 bytes
08-03 22:58:34.237 12955 12981 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 22:58:34.237 12955 12981 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 22:58:34.237 12955 12981 D VoiceRecorderService: AI processing completed successfully
08-03 23:02:14.911   596  1172 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:02:14.963 13103 13103 D VoiceRecorderService: === RECORDING START ===
08-03 23:02:14.963 13103 13103 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_230214.m4a
08-03 23:02:14.963 13103 13103 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:02:14.973 13103 13103 D VoiceRecorderService: Preparing MediaRecorder...
08-03 23:02:14.974 13103 13103 D VoiceRecorderService: Starting MediaRecorder...
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: Error initializing MediaRecorder
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{3848abc 13103:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:50)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: 
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: Exception type: SecurityException
08-03 23:02:15.029 13103 13103 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{3848abc 13103:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:02:15.030 13103 13103 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:02:15.030 13103 13103 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:50)
08-03 23:02:18.198 13103 13103 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:02:18.198 13103 13103 D VoiceRecorderService: Stopping MediaRecorder...
08-03 23:02:18.298 13103 13103 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_230214.m4a
08-03 23:02:18.299 13103 13103 D VoiceRecorderService: Final file size: 41963 bytes
08-03 23:02:18.299 13103 13103 D VoiceRecorderService: File exists: true
08-03 23:02:18.299 13103 13103 D VoiceRecorderService: File can read: true
08-03 23:02:18.299 13103 13103 D VoiceRecorderService: File can write: true
08-03 23:02:18.299 13103 13103 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:02:18.321 13103 13103 D VoiceRecorderService: Audio file info:
08-03 23:02:18.321 13103 13103 D VoiceRecorderService: File: recording_20250803_230214.m4a
08-03 23:02:18.321 13103 13103 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_230214.m4a
08-03 23:02:18.321 13103 13103 D VoiceRecorderService: Size: 42242 bytes
08-03 23:02:18.321 13103 13103 D VoiceRecorderService: Error: Prepare failed.: status=0x1
08-03 23:02:18.321 13103 13103 D VoiceRecorderService: Exists: true
08-03 23:02:18.321 13103 13103 D VoiceRecorderService: Can Read: true
08-03 23:02:18.321 13103 13103 D VoiceRecorderService: Can Write: true
08-03 23:02:18.331 13103 13103 E AudioTestHelper: 	at com.example.voicerecorderwearos.VoiceRecorderService.stopRecording(VoiceRecorderService.kt:165)
08-03 23:02:18.331 13103 13103 E AudioTestHelper: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:02:18.331 13103 13103 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.stopRecording(VoiceRecorderService.kt:165)
08-03 23:02:18.331 13103 13103 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:02:18.331 13103 13103 D VoiceRecorderService: Audio playback test result: false
08-03 23:02:18.331 13103 13103 E VoiceRecorderService: WARNING: Audio file failed playback test - recording may be silent!
08-03 23:02:18.331 13103 13103 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_230214.m4a
08-03 23:02:18.331 13103 13103 D VoiceRecorderService: File exists: true, File size: 42242
08-03 23:02:18.331 13103 13132 D VoiceRecorderService: Starting AI processing for recording
08-03 23:02:18.331 13103 13132 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:02:18.331 13103 13132 D AIProcessingService: Audio file: recording_20250803_230214.m4a
08-03 23:02:18.331 13103 13132 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_230214.m4a
08-03 23:02:18.331 13103 13132 D AIProcessingService: Audio file exists: true
08-03 23:02:18.331 13103 13132 D AIProcessingService: Audio file size: 42242
08-03 23:02:18.331 13103 13132 D AIProcessingService: Starting transcription...
08-03 23:02:18.332 13103 13132 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:02:18.332 13103 13132 D AIProcessingService: Converting audio to Whisper-compatible WAV format...
08-03 23:02:18.335 13103 13132 D AIProcessingService: WAV transcription failed, trying with original M4A file...
08-03 23:02:18.335 13103 13132 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:02:18.335 13103 13132 D AIProcessingService: Audio file: recording_20250803_230214.m4a
08-03 23:02:18.335 13103 13132 D AIProcessingService: Audio file size: 42242 bytes
08-03 23:02:18.336 13103 13132 D AIProcessingService: Content-Type: audio/x-m4a
08-03 23:02:18.341 13103 13132 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:02:20.560 13103 13132 D AIProcessingService: Response received: 400
08-03 23:02:20.563 13103 13132 E AIProcessingService: Whisper API error: 400
08-03 23:02:20.563 13103 13132 E AIProcessingService: Error body: {"error":{"message":"The audio file could not be decoded or its format is not supported.","type":"invalid_request_error","param":null,"code":null},"usage":{"type":"duration","seconds":0}}
08-03 23:02:20.563 13103 13132 D AIProcessingService: All real transcription attempts failed, using simulated transcription
08-03 23:02:20.563 13103 13132 D AIProcessingService: Using simulated transcription as fallback...
08-03 23:02:20.563 13103 13132 D AIProcessingService: Simulated transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 23:02:20.563 13103 13132 D AIProcessingService: Transcription completed: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 23:02:20.563 13103 13132 D AIProcessingService: Starting AI summary generation...
08-03 23:02:20.564 13103 13132 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:02:20.570 13103 13132 D AIProcessingService: Sending request to Gemini API...
08-03 23:02:20.570 13103 13132 D AIProcessingService: API key length: 39
08-03 23:02:20.570 13103 13132 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:02:21.499 13103 13168 D AIProcessingService: Gemini API response received successfully
08-03 23:02:21.499 13103 13168 D AIProcessingService: Generated summary: The recording details a weekly schedule encompassing professional meetings, appointments, and personal to-dos.  Several crucial deadlines necessitate prioritization of tasks.  The speaker is outlining their plans for effective time management.
08-03 23:02:21.500 13103 13168 D AIProcessingService: AI Summary completed: The recording details a weekly schedule encompassing professional meetings, appointments, and personal to-dos.  Several crucial deadlines necessitate prioritization of tasks.  The speaker is outlining their plans for effective time management.
08-03 23:02:21.500 13103 13168 D AIProcessingService: Starting file save...
08-03 23:02:21.500 13103 13168 D AIProcessingService: saveToLocalFile called with transcription: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 23:02:21.500 13103 13168 D AIProcessingService: saveToLocalFile called with summary: The recording details a weekly schedule encompassing professional meetings, appointments, and personal to-dos.  Several crucial deadlines necessitate prioritization of tasks.  The speaker is outlining their plans for effective time management.
08-03 23:02:21.500 13103 13168 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:02:21.501 13103 13168 D AIProcessingService: File exists before: true
08-03 23:02:21.505 13103 13168 D AIProcessingService: Entry to append: 
08-03 23:02:21.505 13103 13168 D AIProcessingService: [2025-08-03 23:02:21]
08-03 23:02:21.505 13103 13168 D AIProcessingService: TRANSCRIPTION: This is a longer recording where I'm discussing my weekly plans including meetings, appointments, and personal tasks that need to be completed. I have several important deadlines coming up and need to prioritize my work accordingly.
08-03 23:02:21.505 13103 13168 D AIProcessingService: AI SUMMARY: The recording details a weekly schedule encompassing professional meetings, appointments, and personal to-dos.  Several crucial deadlines necessitate prioritization of tasks.  The speaker is outlining their plans for effective time management.
08-03 23:02:21.505 13103 13168 D AIProcessingService: 
08-03 23:02:21.505 13103 13168 D AIProcessingService: ---
08-03 23:02:21.506 13103 13168 D AIProcessingService: File exists, appending to existing file
08-03 23:02:21.506 13103 13168 D AIProcessingService: File exists after: true
08-03 23:02:21.506 13103 13168 D AIProcessingService: File size after: 1035 bytes
08-03 23:02:21.506 13103 13168 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:02:21.506 13103 13168 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:02:21.506 13103 13168 D VoiceRecorderService: AI processing completed successfully
08-03 23:14:26.501   596  2146 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:14:26.549 13361 13361 D VoiceRecorderService: === RECORDING START ===
08-03 23:14:26.549 13361 13361 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_231426.wav
08-03 23:14:26.549 13361 13361 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{1a26ee 13361:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:95)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: 
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: Exception type: SecurityException
08-03 23:14:26.570 13361 13361 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{1a26ee 13361:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:14:26.570 13361 13361 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:95)
08-03 23:14:26.570 13361 13361 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:14:30.882 13361 13361 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:14:30.882 13361 13361 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:14:31.649 13361 13361 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_231426.wav
08-03 23:14:31.649 13361 13361 D VoiceRecorderService: Final file size: 144044 bytes
08-03 23:14:31.649 13361 13361 D VoiceRecorderService: File exists: true
08-03 23:14:31.649 13361 13361 D VoiceRecorderService: File can read: true
08-03 23:14:31.649 13361 13361 D VoiceRecorderService: File can write: true
08-03 23:14:31.649 13361 13361 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:14:31.682 13361 13361 D VoiceRecorderService: Audio file info:
08-03 23:14:31.682 13361 13361 D VoiceRecorderService: File: recording_20250803_231426.wav
08-03 23:14:31.682 13361 13361 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_231426.wav
08-03 23:14:31.682 13361 13361 D VoiceRecorderService: Size: 144044 bytes
08-03 23:14:31.682 13361 13361 D VoiceRecorderService: Duration: 4500 ms
08-03 23:14:31.682 13361 13361 D VoiceRecorderService: Exists: true
08-03 23:14:31.682 13361 13361 D VoiceRecorderService: Can Read: true
08-03 23:14:31.682 13361 13361 D VoiceRecorderService: Can Write: true
08-03 23:14:32.714 13361 13361 D VoiceRecorderService: Audio playback test result: true
08-03 23:14:32.714 13361 13361 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_231426.wav
08-03 23:14:32.714 13361 13361 D VoiceRecorderService: File exists: true, File size: 144044
08-03 23:14:32.715 13361 13388 D VoiceRecorderService: Starting AI processing for recording
08-03 23:14:32.715 13361 13388 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:14:32.715 13361 13388 D AIProcessingService: Audio file: recording_20250803_231426.wav
08-03 23:14:32.715 13361 13388 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_231426.wav
08-03 23:14:32.715 13361 13388 D AIProcessingService: Audio file exists: true
08-03 23:14:32.715 13361 13388 D AIProcessingService: Audio file size: 144044
08-03 23:14:32.715 13361 13388 D AIProcessingService: Starting transcription...
08-03 23:14:32.716 13361 13388 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:14:32.716 13361 13388 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:14:32.716 13361 13388 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:14:32.716 13361 13388 D AIProcessingService: Audio file: recording_20250803_231426.wav
08-03 23:14:32.716 13361 13388 D AIProcessingService: Audio file size: 144044 bytes
08-03 23:14:32.716 13361 13388 D AIProcessingService: Content-Type: audio/wav
08-03 23:14:32.719 13361 13388 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:14:34.363 13361 13388 D AIProcessingService: Response received: 200
08-03 23:14:34.367 13361 13388 D AIProcessingService: Whisper API response: {"text":". .","usage":{"type":"duration","seconds":5}}
08-03 23:14:34.368 13361 13388 D AIProcessingService: Whisper transcription: . .
08-03 23:14:34.370 13361 13388 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:14:34.370 13361 13388 D AIProcessingService: Transcription completed: . .
08-03 23:14:34.370 13361 13388 D AIProcessingService: Starting AI summary generation...
08-03 23:14:34.370 13361 13388 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:14:34.378 13361 13388 D AIProcessingService: Sending request to Gemini API...
08-03 23:14:34.378 13361 13388 D AIProcessingService: API key length: 39
08-03 23:14:34.378 13361 13388 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:14:35.083 13361 13425 D AIProcessingService: Gemini API response received successfully
08-03 23:14:35.083 13361 13425 D AIProcessingService: Generated summary: Please provide the text you would like me to summarize.  I need the text to be able to create a 2-3 sentence summary.
08-03 23:14:35.083 13361 13425 D AIProcessingService: AI Summary completed: Please provide the text you would like me to summarize.  I need the text to be able to create a 2-3 sentence summary.
08-03 23:14:35.083 13361 13425 D AIProcessingService: Starting file save...
08-03 23:14:35.083 13361 13425 D AIProcessingService: saveToLocalFile called with transcription: . .
08-03 23:14:35.083 13361 13425 D AIProcessingService: saveToLocalFile called with summary: Please provide the text you would like me to summarize.  I need the text to be able to create a 2-3 sentence summary.
08-03 23:14:35.084 13361 13425 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:14:35.085 13361 13425 D AIProcessingService: File exists before: false
08-03 23:14:35.087 13361 13425 D AIProcessingService: Entry to append: 
08-03 23:14:35.087 13361 13425 D AIProcessingService: [2025-08-03 23:14:35]
08-03 23:14:35.087 13361 13425 D AIProcessingService: TRANSCRIPTION: . .
08-03 23:14:35.087 13361 13425 D AIProcessingService: AI SUMMARY: Please provide the text you would like me to summarize.  I need the text to be able to create a 2-3 sentence summary.
08-03 23:14:35.087 13361 13425 D AIProcessingService: 
08-03 23:14:35.087 13361 13425 D AIProcessingService: ---
08-03 23:14:35.087 13361 13425 D AIProcessingService: File doesn't exist, creating new file
08-03 23:14:35.087 13361 13425 D AIProcessingService: File exists after: true
08-03 23:14:35.087 13361 13425 D AIProcessingService: File size after: 201 bytes
08-03 23:14:35.087 13361 13425 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:14:35.087 13361 13425 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:14:35.087 13361 13425 D VoiceRecorderService: AI processing completed successfully
08-03 23:20:07.026   596  1172 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:20:07.068 13514 13514 D VoiceRecorderService: === RECORDING START ===
08-03 23:20:07.068 13514 13514 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232007.wav
08-03 23:20:07.068 13514 13514 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{c294f2d 13514:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:95)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: 
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: Exception type: SecurityException
08-03 23:20:07.086 13514 13514 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{c294f2d 13514:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:20:07.086 13514 13514 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:95)
08-03 23:20:07.086 13514 13514 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:20:12.752 13514 13514 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:20:12.752 13514 13514 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:20:13.631 13514 13514 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232007.wav
08-03 23:20:13.631 13514 13514 D VoiceRecorderService: Final file size: 192044 bytes
08-03 23:20:13.631 13514 13514 D VoiceRecorderService: File exists: true
08-03 23:20:13.631 13514 13514 D VoiceRecorderService: File can read: true
08-03 23:20:13.631 13514 13514 D VoiceRecorderService: File can write: true
08-03 23:20:13.631 13514 13514 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:20:13.664 13514 13514 D VoiceRecorderService: Audio file info:
08-03 23:20:13.664 13514 13514 D VoiceRecorderService: File: recording_20250803_232007.wav
08-03 23:20:13.664 13514 13514 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232007.wav
08-03 23:20:13.664 13514 13514 D VoiceRecorderService: Size: 192044 bytes
08-03 23:20:13.664 13514 13514 D VoiceRecorderService: Duration: 6000 ms
08-03 23:20:13.664 13514 13514 D VoiceRecorderService: Exists: true
08-03 23:20:13.664 13514 13514 D VoiceRecorderService: Can Read: true
08-03 23:20:13.664 13514 13514 D VoiceRecorderService: Can Write: true
08-03 23:20:14.701 13514 13514 D VoiceRecorderService: Audio playback test result: true
08-03 23:20:14.701 13514 13514 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232007.wav
08-03 23:20:14.702 13514 13514 D VoiceRecorderService: File exists: true, File size: 192044
08-03 23:20:14.702 13514 13619 D VoiceRecorderService: Starting AI processing for recording
08-03 23:20:14.702 13514 13619 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:20:14.702 13514 13619 D AIProcessingService: Audio file: recording_20250803_232007.wav
08-03 23:20:14.702 13514 13619 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232007.wav
08-03 23:20:14.702 13514 13619 D AIProcessingService: Audio file exists: true
08-03 23:20:14.702 13514 13619 D AIProcessingService: Audio file size: 192044
08-03 23:20:14.702 13514 13619 D AIProcessingService: Starting transcription...
08-03 23:20:14.703 13514 13619 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:20:14.703 13514 13619 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:20:14.703 13514 13619 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:20:14.703 13514 13619 D AIProcessingService: Audio file: recording_20250803_232007.wav
08-03 23:20:14.703 13514 13619 D AIProcessingService: Audio file size: 192044 bytes
08-03 23:20:14.703 13514 13619 D AIProcessingService: Content-Type: audio/wav
08-03 23:20:14.709 13514 13619 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:20:16.321 13514 13619 D AIProcessingService: Response received: 200
08-03 23:20:16.322 13514 13619 D AIProcessingService: Whisper API response: {"text":". .","usage":{"type":"duration","seconds":6}}
08-03 23:20:16.323 13514 13619 D AIProcessingService: Whisper transcription: . .
08-03 23:20:16.323 13514 13619 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:20:16.324 13514 13619 D AIProcessingService: Transcription completed: . .
08-03 23:20:16.324 13514 13619 D AIProcessingService: Starting AI summary generation...
08-03 23:20:16.324 13514 13619 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:20:16.328 13514 13619 D AIProcessingService: Sending request to Gemini API...
08-03 23:20:16.329 13514 13619 D AIProcessingService: API key length: 39
08-03 23:20:16.329 13514 13619 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:20:16.980 13514 13619 D AIProcessingService: Gemini API response received successfully
08-03 23:20:16.981 13514 13619 D AIProcessingService: Generated summary: Please provide the text you would like me to summarize.  I need the text to be able to complete your request.
08-03 23:20:16.981 13514 13619 D AIProcessingService: AI Summary completed: Please provide the text you would like me to summarize.  I need the text to be able to complete your request.
08-03 23:20:16.981 13514 13619 D AIProcessingService: Starting file save...
08-03 23:20:16.981 13514 13619 D AIProcessingService: saveToLocalFile called with transcription: . .
08-03 23:20:16.981 13514 13619 D AIProcessingService: saveToLocalFile called with summary: Please provide the text you would like me to summarize.  I need the text to be able to complete your request.
08-03 23:20:16.981 13514 13619 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:20:16.982 13514 13619 D AIProcessingService: File exists before: true
08-03 23:20:16.983 13514 13619 D AIProcessingService: Entry to append: 
08-03 23:20:16.983 13514 13619 D AIProcessingService: [2025-08-03 23:20:16]
08-03 23:20:16.983 13514 13619 D AIProcessingService: TRANSCRIPTION: . .
08-03 23:20:16.983 13514 13619 D AIProcessingService: AI SUMMARY: Please provide the text you would like me to summarize.  I need the text to be able to complete your request.
08-03 23:20:16.983 13514 13619 D AIProcessingService: 
08-03 23:20:16.983 13514 13619 D AIProcessingService: ---
08-03 23:20:16.983 13514 13619 D AIProcessingService: File exists, appending to existing file
08-03 23:20:16.984 13514 13619 D AIProcessingService: File exists after: true
08-03 23:20:16.984 13514 13619 D AIProcessingService: File size after: 370 bytes
08-03 23:20:16.984 13514 13619 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:20:16.984 13514 13619 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:20:16.984 13514 13619 D VoiceRecorderService: AI processing completed successfully
08-03 23:24:10.758   596   612 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:24:10.794 13698 13698 D VoiceRecorderService: === RECORDING START ===
08-03 23:24:10.794 13698 13698 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232410.wav
08-03 23:24:10.794 13698 13698 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:24:10.794 13698 13698 D VoiceRecorderService: Creating PcmWavRecorder...
08-03 23:24:10.794 13698 13698 D VoiceRecorderService: Starting PcmWavRecorder...
08-03 23:24:10.811 13698 13698 D VoiceRecorderService: PcmWavRecorder start result: true
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{e877641 13698:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:99)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:24:10.815 13698 13698 E VoiceRecorderService: 
08-03 23:24:10.816 13698 13698 E VoiceRecorderService: Exception type: SecurityException
08-03 23:24:10.816 13698 13698 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{e877641 13698:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:24:10.816 13698 13698 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:99)
08-03 23:24:10.816 13698 13698 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:24:16.398 13698 13698 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:24:16.398 13698 13698 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:24:17.348 13698 13698 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232410.wav
08-03 23:24:17.349 13698 13698 D VoiceRecorderService: Final file size: 192044 bytes
08-03 23:24:17.349 13698 13698 D VoiceRecorderService: File exists: true
08-03 23:24:17.349 13698 13698 D VoiceRecorderService: File can read: true
08-03 23:24:17.349 13698 13698 D VoiceRecorderService: File can write: true
08-03 23:24:17.349 13698 13698 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:24:17.377 13698 13698 D VoiceRecorderService: Audio file info:
08-03 23:24:17.377 13698 13698 D VoiceRecorderService: File: recording_20250803_232410.wav
08-03 23:24:17.377 13698 13698 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232410.wav
08-03 23:24:17.377 13698 13698 D VoiceRecorderService: Size: 192044 bytes
08-03 23:24:17.377 13698 13698 D VoiceRecorderService: Duration: 6000 ms
08-03 23:24:17.377 13698 13698 D VoiceRecorderService: Exists: true
08-03 23:24:17.377 13698 13698 D VoiceRecorderService: Can Read: true
08-03 23:24:17.377 13698 13698 D VoiceRecorderService: Can Write: true
08-03 23:24:18.433 13698 13698 D VoiceRecorderService: Audio playback test result: true
08-03 23:24:18.433 13698 13698 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232410.wav
08-03 23:24:18.433 13698 13698 D VoiceRecorderService: File exists: true, File size: 192044
08-03 23:24:18.435 13698 13723 D VoiceRecorderService: Starting AI processing for recording
08-03 23:24:18.435 13698 13723 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:24:18.435 13698 13723 D AIProcessingService: Audio file: recording_20250803_232410.wav
08-03 23:24:18.435 13698 13723 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232410.wav
08-03 23:24:18.435 13698 13723 D AIProcessingService: Audio file exists: true
08-03 23:24:18.435 13698 13723 D AIProcessingService: Audio file size: 192044
08-03 23:24:18.435 13698 13723 D AIProcessingService: Starting transcription...
08-03 23:24:18.436 13698 13723 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:24:18.436 13698 13723 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:24:18.436 13698 13723 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:24:18.436 13698 13723 D AIProcessingService: Audio file: recording_20250803_232410.wav
08-03 23:24:18.436 13698 13723 D AIProcessingService: Audio file size: 192044 bytes
08-03 23:24:18.436 13698 13723 D AIProcessingService: Content-Type: audio/wav
08-03 23:24:18.440 13698 13723 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:24:20.659 13698 13723 D AIProcessingService: Response received: 200
08-03 23:24:20.660 13698 13723 D AIProcessingService: Whisper API response: {"text":". .","usage":{"type":"duration","seconds":6}}
08-03 23:24:20.660 13698 13723 D AIProcessingService: Whisper transcription: . .
08-03 23:24:20.661 13698 13723 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:24:20.661 13698 13723 D AIProcessingService: Transcription completed: . .
08-03 23:24:20.661 13698 13723 D AIProcessingService: Starting AI summary generation...
08-03 23:24:20.661 13698 13723 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:24:20.664 13698 13723 D AIProcessingService: Sending request to Gemini API...
08-03 23:24:20.664 13698 13723 D AIProcessingService: API key length: 39
08-03 23:24:20.664 13698 13723 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:24:22.124 13698 13723 D AIProcessingService: Gemini API response received successfully
08-03 23:24:22.124 13698 13723 D AIProcessingService: Generated summary: Please provide the text you would like me to summarize.  I need the text to be able to give you a summary.
08-03 23:24:22.124 13698 13723 D AIProcessingService: AI Summary completed: Please provide the text you would like me to summarize.  I need the text to be able to give you a summary.
08-03 23:24:22.124 13698 13723 D AIProcessingService: Starting file save...
08-03 23:24:22.124 13698 13723 D AIProcessingService: saveToLocalFile called with transcription: . .
08-03 23:24:22.124 13698 13723 D AIProcessingService: saveToLocalFile called with summary: Please provide the text you would like me to summarize.  I need the text to be able to give you a summary.
08-03 23:24:22.125 13698 13723 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:24:22.125 13698 13723 D AIProcessingService: File exists before: true
08-03 23:24:22.127 13698 13723 D AIProcessingService: Entry to append: 
08-03 23:24:22.127 13698 13723 D AIProcessingService: [2025-08-03 23:24:22]
08-03 23:24:22.127 13698 13723 D AIProcessingService: TRANSCRIPTION: . .
08-03 23:24:22.127 13698 13723 D AIProcessingService: AI SUMMARY: Please provide the text you would like me to summarize.  I need the text to be able to give you a summary.
08-03 23:24:22.127 13698 13723 D AIProcessingService: 
08-03 23:24:22.127 13698 13723 D AIProcessingService: ---
08-03 23:24:22.127 13698 13723 D AIProcessingService: File exists, appending to existing file
08-03 23:24:22.128 13698 13723 D AIProcessingService: File exists after: true
08-03 23:24:22.128 13698 13723 D AIProcessingService: File size after: 536 bytes
08-03 23:24:22.128 13698 13723 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:24:22.128 13698 13723 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:24:22.128 13698 13723 D VoiceRecorderService: AI processing completed successfully
08-03 23:25:29.218   596  1699 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:25:29.262 13808 13808 D VoiceRecorderService: === RECORDING START ===
08-03 23:25:29.262 13808 13808 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232529.wav
08-03 23:25:29.262 13808 13808 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:25:29.262 13808 13808 D VoiceRecorderService: Creating PcmWavRecorder...
08-03 23:25:29.262 13808 13808 D VoiceRecorderService: Starting PcmWavRecorder...
08-03 23:25:29.302 13808 13808 D VoiceRecorderService: PcmWavRecorder start result: true
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{79cad1f 13808:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:99)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: 
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: Exception type: SecurityException
08-03 23:25:29.306 13808 13808 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{79cad1f 13808:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:25:29.306 13808 13808 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:99)
08-03 23:25:29.306 13808 13808 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:25:33.867 13808 13808 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:25:33.867 13808 13808 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:25:34.851 13808 13808 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232529.wav
08-03 23:25:34.851 13808 13808 D VoiceRecorderService: Final file size: 160044 bytes
08-03 23:25:34.851 13808 13808 D VoiceRecorderService: File exists: true
08-03 23:25:34.851 13808 13808 D VoiceRecorderService: File can read: true
08-03 23:25:34.851 13808 13808 D VoiceRecorderService: File can write: true
08-03 23:25:34.852 13808 13808 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:25:34.885 13808 13808 D VoiceRecorderService: Audio file info:
08-03 23:25:34.885 13808 13808 D VoiceRecorderService: File: recording_20250803_232529.wav
08-03 23:25:34.885 13808 13808 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232529.wav
08-03 23:25:34.885 13808 13808 D VoiceRecorderService: Size: 160044 bytes
08-03 23:25:34.885 13808 13808 D VoiceRecorderService: Duration: 5000 ms
08-03 23:25:34.885 13808 13808 D VoiceRecorderService: Exists: true
08-03 23:25:34.885 13808 13808 D VoiceRecorderService: Can Read: true
08-03 23:25:34.885 13808 13808 D VoiceRecorderService: Can Write: true
08-03 23:25:35.927 13808 13808 D VoiceRecorderService: Audio playback test result: true
08-03 23:25:35.927 13808 13808 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232529.wav
08-03 23:25:35.927 13808 13808 D VoiceRecorderService: File exists: true, File size: 160044
08-03 23:25:35.928 13808 13832 D VoiceRecorderService: Starting AI processing for recording
08-03 23:25:35.928 13808 13832 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:25:35.928 13808 13832 D AIProcessingService: Audio file: recording_20250803_232529.wav
08-03 23:25:35.928 13808 13832 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232529.wav
08-03 23:25:35.928 13808 13832 D AIProcessingService: Audio file exists: true
08-03 23:25:35.928 13808 13832 D AIProcessingService: Audio file size: 160044
08-03 23:25:35.928 13808 13832 D AIProcessingService: Starting transcription...
08-03 23:25:35.928 13808 13832 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:25:35.928 13808 13832 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:25:35.928 13808 13832 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:25:35.928 13808 13832 D AIProcessingService: Audio file: recording_20250803_232529.wav
08-03 23:25:35.928 13808 13832 D AIProcessingService: Audio file size: 160044 bytes
08-03 23:25:35.928 13808 13832 D AIProcessingService: Content-Type: audio/wav
08-03 23:25:35.930 13808 13832 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:25:36.960 13808 13832 D AIProcessingService: Response received: 200
08-03 23:25:36.962 13808 13832 D AIProcessingService: Whisper API response: {"text":". .","usage":{"type":"duration","seconds":5}}
08-03 23:25:36.963 13808 13832 D AIProcessingService: Whisper transcription: . .
08-03 23:25:36.963 13808 13832 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:25:36.964 13808 13832 D AIProcessingService: Transcription completed: . .
08-03 23:25:36.964 13808 13832 D AIProcessingService: Starting AI summary generation...
08-03 23:25:36.964 13808 13832 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:25:36.970 13808 13832 D AIProcessingService: Sending request to Gemini API...
08-03 23:25:36.970 13808 13832 D AIProcessingService: API key length: 39
08-03 23:25:36.970 13808 13832 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:25:38.310 13808 13833 D AIProcessingService: Gemini API response received successfully
08-03 23:25:38.311 13808 13833 D AIProcessingService: Generated summary: Please provide the text you would like me to summarize.  I need the text to be able to give you a summary.
08-03 23:25:38.311 13808 13833 D AIProcessingService: AI Summary completed: Please provide the text you would like me to summarize.  I need the text to be able to give you a summary.
08-03 23:25:38.311 13808 13833 D AIProcessingService: Starting file save...
08-03 23:25:38.311 13808 13833 D AIProcessingService: saveToLocalFile called with transcription: . .
08-03 23:25:38.311 13808 13833 D AIProcessingService: saveToLocalFile called with summary: Please provide the text you would like me to summarize.  I need the text to be able to give you a summary.
08-03 23:25:38.311 13808 13833 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:25:38.312 13808 13833 D AIProcessingService: File exists before: true
08-03 23:25:38.314 13808 13833 D AIProcessingService: Entry to append: 
08-03 23:25:38.314 13808 13833 D AIProcessingService: [2025-08-03 23:25:38]
08-03 23:25:38.314 13808 13833 D AIProcessingService: TRANSCRIPTION: . .
08-03 23:25:38.314 13808 13833 D AIProcessingService: AI SUMMARY: Please provide the text you would like me to summarize.  I need the text to be able to give you a summary.
08-03 23:25:38.314 13808 13833 D AIProcessingService: 
08-03 23:25:38.314 13808 13833 D AIProcessingService: ---
08-03 23:25:38.314 13808 13833 D AIProcessingService: File exists, appending to existing file
08-03 23:25:38.316 13808 13833 D AIProcessingService: File exists after: true
08-03 23:25:38.316 13808 13833 D AIProcessingService: File size after: 702 bytes
08-03 23:25:38.316 13808 13833 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:25:38.316 13808 13833 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:25:38.317 13808 13833 D VoiceRecorderService: AI processing completed successfully
08-03 23:29:43.516   596  1318 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:29:43.550 13912 13912 D VoiceRecorderService: === RECORDING START ===
08-03 23:29:43.550 13912 13912 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232943.wav
08-03 23:29:43.550 13912 13912 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:29:43.550 13912 13912 D VoiceRecorderService: Creating PcmWavRecorder...
08-03 23:29:43.550 13912 13912 D VoiceRecorderService: Starting PcmWavRecorder...
08-03 23:29:43.615 13912 13912 D VoiceRecorderService: PcmWavRecorder start result: true
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{e0a1629 13912:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: 
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: Exception type: SecurityException
08-03 23:29:43.620 13912 13912 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{e0a1629 13912:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:29:43.621 13912 13912 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:29:43.621 13912 13912 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:29:48.899 13912 13912 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:29:48.899 13912 13912 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:29:49.686 13912 13912 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232943.wav
08-03 23:29:49.686 13912 13912 D VoiceRecorderService: Final file size: 176044 bytes
08-03 23:29:49.686 13912 13912 D VoiceRecorderService: File exists: true
08-03 23:29:49.686 13912 13912 D VoiceRecorderService: File can read: true
08-03 23:29:49.687 13912 13912 D VoiceRecorderService: File can write: true
08-03 23:29:49.687 13912 13912 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:29:49.722 13912 13912 D VoiceRecorderService: Audio file info:
08-03 23:29:49.722 13912 13912 D VoiceRecorderService: File: recording_20250803_232943.wav
08-03 23:29:49.722 13912 13912 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232943.wav
08-03 23:29:49.722 13912 13912 D VoiceRecorderService: Size: 176044 bytes
08-03 23:29:49.722 13912 13912 D VoiceRecorderService: Duration: 5500 ms
08-03 23:29:49.722 13912 13912 D VoiceRecorderService: Exists: true
08-03 23:29:49.722 13912 13912 D VoiceRecorderService: Can Read: true
08-03 23:29:49.722 13912 13912 D VoiceRecorderService: Can Write: true
08-03 23:29:50.754 13912 13912 D VoiceRecorderService: Audio playback test result: true
08-03 23:29:50.754 13912 13912 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232943.wav
08-03 23:29:50.755 13912 13912 D VoiceRecorderService: File exists: true, File size: 176044
08-03 23:29:50.755 13912 13936 D VoiceRecorderService: Starting AI processing for recording
08-03 23:29:50.755 13912 13936 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:29:50.755 13912 13936 D AIProcessingService: Audio file: recording_20250803_232943.wav
08-03 23:29:50.755 13912 13936 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_232943.wav
08-03 23:29:50.755 13912 13936 D AIProcessingService: Audio file exists: true
08-03 23:29:50.755 13912 13936 D AIProcessingService: Audio file size: 176044
08-03 23:29:50.755 13912 13936 D AIProcessingService: Starting transcription...
08-03 23:29:50.755 13912 13936 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:29:50.755 13912 13936 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:29:50.755 13912 13936 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:29:50.755 13912 13936 D AIProcessingService: Audio file: recording_20250803_232943.wav
08-03 23:29:50.755 13912 13936 D AIProcessingService: Audio file size: 176044 bytes
08-03 23:29:50.755 13912 13936 D AIProcessingService: Content-Type: audio/wav
08-03 23:29:50.760 13912 13936 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:29:51.735 13912 13936 D AIProcessingService: Response received: 200
08-03 23:29:51.741 13912 13936 D AIProcessingService: Whisper API response: {"text":". .","usage":{"type":"duration","seconds":6}}
08-03 23:29:51.742 13912 13936 D AIProcessingService: Whisper transcription: . .
08-03 23:29:51.742 13912 13936 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:29:51.744 13912 13936 D AIProcessingService: Transcription completed: . .
08-03 23:29:51.744 13912 13936 D AIProcessingService: Starting AI summary generation...
08-03 23:29:51.745 13912 13936 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:29:51.751 13912 13936 D AIProcessingService: Sending request to Gemini API...
08-03 23:29:51.751 13912 13936 D AIProcessingService: API key length: 39
08-03 23:29:51.751 13912 13936 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:29:52.384 13912 13936 D AIProcessingService: Gemini API response received successfully
08-03 23:29:52.384 13912 13936 D AIProcessingService: Generated summary: Please provide the text you would like me to summarize.  I need the text to be able to complete your request.
08-03 23:29:52.384 13912 13936 D AIProcessingService: AI Summary completed: Please provide the text you would like me to summarize.  I need the text to be able to complete your request.
08-03 23:29:52.384 13912 13936 D AIProcessingService: Starting file save...
08-03 23:29:52.384 13912 13936 D AIProcessingService: saveToLocalFile called with transcription: . .
08-03 23:29:52.384 13912 13936 D AIProcessingService: saveToLocalFile called with summary: Please provide the text you would like me to summarize.  I need the text to be able to complete your request.
08-03 23:29:52.385 13912 13936 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:29:52.386 13912 13936 D AIProcessingService: File exists before: true
08-03 23:29:52.389 13912 13936 D AIProcessingService: Entry to append: 
08-03 23:29:52.389 13912 13936 D AIProcessingService: [2025-08-03 23:29:52]
08-03 23:29:52.389 13912 13936 D AIProcessingService: TRANSCRIPTION: . .
08-03 23:29:52.389 13912 13936 D AIProcessingService: AI SUMMARY: Please provide the text you would like me to summarize.  I need the text to be able to complete your request.
08-03 23:29:52.389 13912 13936 D AIProcessingService: 
08-03 23:29:52.389 13912 13936 D AIProcessingService: ---
08-03 23:29:52.389 13912 13936 D AIProcessingService: File exists, appending to existing file
08-03 23:29:52.390 13912 13936 D AIProcessingService: File exists after: true
08-03 23:29:52.391 13912 13936 D AIProcessingService: File size after: 871 bytes
08-03 23:29:52.391 13912 13936 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:29:52.391 13912 13936 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:29:52.391 13912 13936 D VoiceRecorderService: AI processing completed successfully
08-03 23:30:21.441   596  2146 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:30:21.485 14015 14015 D VoiceRecorderService: === RECORDING START ===
08-03 23:30:21.485 14015 14015 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233021.wav
08-03 23:30:21.485 14015 14015 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:30:21.485 14015 14015 D VoiceRecorderService: Creating PcmWavRecorder...
08-03 23:30:21.486 14015 14015 D VoiceRecorderService: Starting PcmWavRecorder...
08-03 23:30:21.496 14015 14015 D VoiceRecorderService: PcmWavRecorder start result: true
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{6008643 14015:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: 
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: Exception type: SecurityException
08-03 23:30:21.501 14015 14015 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{6008643 14015:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:30:21.502 14015 14015 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:30:21.502 14015 14015 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:30:24.352 14015 14015 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:30:24.352 14015 14015 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:30:25.053 14015 14015 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233021.wav
08-03 23:30:25.053 14015 14015 D VoiceRecorderService: Final file size: 96044 bytes
08-03 23:30:25.053 14015 14015 D VoiceRecorderService: File exists: true
08-03 23:30:25.053 14015 14015 D VoiceRecorderService: File can read: true
08-03 23:30:25.053 14015 14015 D VoiceRecorderService: File can write: true
08-03 23:30:25.053 14015 14015 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Audio file info:
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: File: recording_20250803_233021.wav
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233021.wav
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Size: 96044 bytes
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Duration: 3000 ms
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Exists: true
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Can Read: true
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Can Write: true
08-03 23:30:26.114 14015 14015 D VoiceRecorderService: Audio playback test result: true
08-03 23:30:26.114 14015 14015 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233021.wav
08-03 23:30:26.114 14015 14015 D VoiceRecorderService: File exists: true, File size: 96044
08-03 23:30:26.115 14015 14043 D VoiceRecorderService: Starting AI processing for recording
08-03 23:30:26.115 14015 14043 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:30:26.115 14015 14043 D AIProcessingService: Audio file: recording_20250803_233021.wav
08-03 23:30:26.115 14015 14043 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233021.wav
08-03 23:30:26.116 14015 14043 D AIProcessingService: Audio file exists: true
08-03 23:30:26.116 14015 14043 D AIProcessingService: Audio file size: 96044
08-03 23:30:26.116 14015 14043 D AIProcessingService: Starting transcription...
08-03 23:30:26.116 14015 14043 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:30:26.116 14015 14043 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:30:26.116 14015 14043 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:30:26.116 14015 14043 D AIProcessingService: Audio file: recording_20250803_233021.wav
08-03 23:30:26.117 14015 14043 D AIProcessingService: Audio file size: 96044 bytes
08-03 23:30:26.117 14015 14043 D AIProcessingService: Content-Type: audio/wav
08-03 23:30:26.119 14015 14043 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:30:26.860 14015 14043 D AIProcessingService: Response received: 200
08-03 23:30:26.863 14015 14043 D AIProcessingService: Whisper API response: {"text":".","usage":{"type":"duration","seconds":3}}
08-03 23:30:26.864 14015 14043 D AIProcessingService: Whisper transcription: .
08-03 23:30:26.866 14015 14043 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:30:26.866 14015 14043 D AIProcessingService: Transcription completed: .
08-03 23:30:26.866 14015 14043 D AIProcessingService: Starting AI summary generation...
08-03 23:30:26.867 14015 14043 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:30:26.874 14015 14043 D AIProcessingService: Sending request to Gemini API...
08-03 23:30:26.875 14015 14043 D AIProcessingService: API key length: 39
08-03 23:30:26.875 14015 14043 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:30:27.504 14015 14080 D AIProcessingService: Gemini API response received successfully
08-03 23:30:27.504 14015 14080 D AIProcessingService: Generated summary: Please provide the text you would like me to summarize.  I need the text to be able to create a summary for you.
08-03 23:30:27.504 14015 14080 D AIProcessingService: AI Summary completed: Please provide the text you would like me to summarize.  I need the text to be able to create a summary for you.
08-03 23:30:27.504 14015 14080 D AIProcessingService: Starting file save...
08-03 23:30:27.504 14015 14080 D AIProcessingService: saveToLocalFile called with transcription: .
08-03 23:30:27.504 14015 14080 D AIProcessingService: saveToLocalFile called with summary: Please provide the text you would like me to summarize.  I need the text to be able to create a summary for you.
08-03 23:30:27.506 14015 14080 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:30:27.506 14015 14080 D AIProcessingService: File exists before: true
08-03 23:30:27.509 14015 14080 D AIProcessingService: Entry to append: 
08-03 23:30:27.509 14015 14080 D AIProcessingService: [2025-08-03 23:30:27]
08-03 23:30:27.509 14015 14080 D AIProcessingService: TRANSCRIPTION: .
08-03 23:30:27.509 14015 14080 D AIProcessingService: AI SUMMARY: Please provide the text you would like me to summarize.  I need the text to be able to create a summary for you.
08-03 23:30:27.509 14015 14080 D AIProcessingService: 
08-03 23:30:27.509 14015 14080 D AIProcessingService: ---
08-03 23:30:27.509 14015 14080 D AIProcessingService: File exists, appending to existing file
08-03 23:30:27.509 14015 14080 D AIProcessingService: File exists after: true
08-03 23:30:27.510 14015 14080 D AIProcessingService: File size after: 1041 bytes
08-03 23:30:27.510 14015 14080 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:30:27.510 14015 14080 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:30:27.510 14015 14080 D VoiceRecorderService: AI processing completed successfully
08-03 23:34:05.264   596  1084 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:34:05.310 14345 14345 D VoiceRecorderService: === RECORDING START ===
08-03 23:34:05.310 14345 14345 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:05.310 14345 14345 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:34:05.310 14345 14345 D VoiceRecorderService: Creating PcmWavRecorder...
08-03 23:34:05.311 14345 14345 D VoiceRecorderService: Starting PcmWavRecorder...
08-03 23:34:05.336 14345 14345 D VoiceRecorderService: PcmWavRecorder start result: true
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{6f340fa 14345:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: Exception type: SecurityException
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{6f340fa 14345:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:34:05.342 14345 14345 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:34:05.342 14345 14345 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:34:09.561 14345 14345 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:34:09.561 14345 14345 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:34:10.387 14345 14345 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:10.387 14345 14345 D VoiceRecorderService: Final file size: 144044 bytes
08-03 23:34:10.388 14345 14345 D VoiceRecorderService: File exists: true
08-03 23:34:10.388 14345 14345 D VoiceRecorderService: File can read: true
08-03 23:34:10.388 14345 14345 D VoiceRecorderService: File can write: true
08-03 23:34:10.388 14345 14345 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Audio file info:
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: File: recording_20250803_233405.wav
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Size: 144044 bytes
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Duration: 4500 ms
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Exists: true
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Can Read: true
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Can Write: true
08-03 23:34:11.460 14345 14345 D VoiceRecorderService: Audio playback test result: true
08-03 23:34:11.460 14345 14345 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:11.460 14345 14345 D VoiceRecorderService: File exists: true, File size: 144044
08-03 23:34:11.461 14345 14373 D VoiceRecorderService: Starting AI processing for recording
08-03 23:34:11.461 14345 14373 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:34:11.461 14345 14373 D AIProcessingService: Audio file: recording_20250803_233405.wav
08-03 23:34:11.461 14345 14373 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:11.462 14345 14373 D AIProcessingService: Audio file exists: true
08-03 23:34:11.462 14345 14373 D AIProcessingService: Audio file size: 144044
08-03 23:34:11.462 14345 14373 D AIProcessingService: Starting transcription...
08-03 23:34:11.463 14345 14373 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:34:11.463 14345 14373 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:34:11.463 14345 14373 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:34:11.463 14345 14373 D AIProcessingService: Audio file: recording_20250803_233405.wav
08-03 23:34:11.463 14345 14373 D AIProcessingService: Audio file size: 144044 bytes
08-03 23:34:11.463 14345 14373 D AIProcessingService: Content-Type: audio/wav
08-03 23:34:11.467 14345 14373 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:34:12.448 14345 14373 D AIProcessingService: Response received: 200
08-03 23:34:12.453 14345 14373 D AIProcessingService: Whisper API response: {"text":"Hello, hello.","usage":{"type":"duration","seconds":5}}
08-03 23:34:12.455 14345 14373 D AIProcessingService: Whisper transcription: Hello, hello.
08-03 23:34:12.457 14345 14373 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:34:12.457 14345 14373 D AIProcessingService: Transcription completed: Hello, hello.
08-03 23:34:12.457 14345 14373 D AIProcessingService: Starting AI summary generation...
08-03 23:34:12.459 14345 14373 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:34:12.464 14345 14373 D AIProcessingService: Sending request to Gemini API...
08-03 23:34:12.464 14345 14373 D AIProcessingService: API key length: 39
08-03 23:34:12.465 14345 14373 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:34:13.298 14345 14374 D AIProcessingService: Gemini API response received successfully
08-03 23:34:13.298 14345 14374 D AIProcessingService: Generated summary: The provided text consists only of the greeting "Hello, hello."  There is no substantive information or main idea to summarize.  The text simply repeats a common greeting.
08-03 23:34:13.298 14345 14374 D AIProcessingService: AI Summary completed: The provided text consists only of the greeting "Hello, hello."  There is no substantive information or main idea to summarize.  The text simply repeats a common greeting.
08-03 23:34:13.298 14345 14374 D AIProcessingService: Starting file save...
08-03 23:34:13.298 14345 14374 D AIProcessingService: saveToLocalFile called with transcription: Hello, hello.
08-03 23:34:13.298 14345 14374 D AIProcessingService: saveToLocalFile called with summary: The provided text consists only of the greeting "Hello, hello."  There is no substantive information or main idea to summarize.  The text simply repeats a common greeting.
08-03 23:34:13.301 14345 14374 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:34:13.302 14345 14374 D AIProcessingService: File exists before: false
08-03 23:34:13.305 14345 14374 D AIProcessingService: Entry to append: 
08-03 23:34:13.305 14345 14374 D AIProcessingService: [2025-08-03 23:34:13]
08-03 23:34:13.305 14345 14374 D AIProcessingService: TRANSCRIPTION: Hello, hello.
08-03 23:34:13.305 14345 14374 D AIProcessingService: AI SUMMARY: The provided text consists only of the greeting "Hello, hello."  There is no substantive information or main idea to summarize.  The text simply repeats a common greeting.
08-03 23:34:13.305 14345 14374 D AIProcessingService: 
08-03 23:34:13.305 14345 14374 D AIProcessingService: ---
08-03 23:34:13.306 14345 14374 D AIProcessingService: File doesn't exist, creating new file
08-03 23:34:13.307 14345 14374 D AIProcessingService: File exists after: true
08-03 23:34:13.308 14345 14374 D AIProcessingService: File size after: 265 bytes
08-03 23:34:13.308 14345 14374 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:34:13.308 14345 14374 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:34:13.308 14345 14374 D VoiceRecorderService: AI processing completed successfully
08-03 23:36:20.742   596  2328 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: === RECORDING START ===
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: Creating PcmWavRecorder...
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: Starting PcmWavRecorder...
08-03 23:36:20.805 14457 14457 D VoiceRecorderService: PcmWavRecorder start result: true
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{cb51c19 14457:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: Exception type: SecurityException
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{cb51c19 14457:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:36:20.810 14457 14457 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:36:20.810 14457 14457 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:36:27.300 14457 14457 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:36:27.300 14457 14457 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: Final file size: 208044 bytes
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: File exists: true
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: File can read: true
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: File can write: true
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Audio file info:
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: File: recording_20250803_233620.wav
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Size: 208044 bytes
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Duration: 6500 ms
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Exists: true
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Can Read: true
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Can Write: true
08-03 23:36:28.914 14457 14457 D VoiceRecorderService: Audio playback test result: true
08-03 23:36:28.914 14457 14457 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:28.914 14457 14457 D VoiceRecorderService: File exists: true, File size: 208044
08-03 23:36:28.914 14457 14484 D VoiceRecorderService: Starting AI processing for recording
08-03 23:36:28.914 14457 14484 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:36:28.914 14457 14484 D AIProcessingService: Audio file: recording_20250803_233620.wav
08-03 23:36:28.914 14457 14484 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:28.914 14457 14484 D AIProcessingService: Audio file exists: true
08-03 23:36:28.914 14457 14484 D AIProcessingService: Audio file size: 208044
08-03 23:36:28.914 14457 14484 D AIProcessingService: Starting transcription...
08-03 23:36:28.915 14457 14484 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:36:28.915 14457 14484 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:36:28.915 14457 14484 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:36:28.915 14457 14484 D AIProcessingService: Audio file: recording_20250803_233620.wav
08-03 23:36:28.915 14457 14484 D AIProcessingService: Audio file size: 208044 bytes
08-03 23:36:28.915 14457 14484 D AIProcessingService: Content-Type: audio/wav
08-03 23:36:28.918 14457 14484 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:36:30.324 14457 14484 D AIProcessingService: Response received: 200
08-03 23:36:30.328 14457 14484 D AIProcessingService: Whisper API response: {"text":"I think that God is real because we don't understand consciousness.","usage":{"type":"duration","seconds":7}}
08-03 23:36:30.329 14457 14484 D AIProcessingService: Whisper transcription: I think that God is real because we don't understand consciousness.
08-03 23:36:30.330 14457 14484 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:36:30.330 14457 14484 D AIProcessingService: Transcription completed: I think that God is real because we don't understand consciousness.
08-03 23:36:30.330 14457 14484 D AIProcessingService: Starting AI summary generation...
08-03 23:36:30.331 14457 14484 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:36:30.337 14457 14484 D AIProcessingService: Sending request to Gemini API...
08-03 23:36:30.337 14457 14484 D AIProcessingService: API key length: 39
08-03 23:36:30.337 14457 14484 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:36:31.226 14457 14486 D AIProcessingService: Gemini API response received successfully
08-03 23:36:31.226 14457 14486 D AIProcessingService: Generated summary: The argument presented posits a link between the incomprehensibility of consciousness and the existence of God.  Essentially, the lack of a scientific explanation for consciousness is offered as evidence for a divine creator.
08-03 23:36:31.227 14457 14486 D AIProcessingService: AI Summary completed: The argument presented posits a link between the incomprehensibility of consciousness and the existence of God.  Essentially, the lack of a scientific explanation for consciousness is offered as evidence for a divine creator.
08-03 23:36:31.227 14457 14486 D AIProcessingService: Starting file save...
08-03 23:36:31.227 14457 14486 D AIProcessingService: saveToLocalFile called with transcription: I think that God is real because we don't understand consciousness.
08-03 23:36:31.227 14457 14486 D AIProcessingService: saveToLocalFile called with summary: The argument presented posits a link between the incomprehensibility of consciousness and the existence of God.  Essentially, the lack of a scientific explanation for consciousness is offered as evidence for a divine creator.
08-03 23:36:31.228 14457 14486 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:36:31.229 14457 14486 D AIProcessingService: File exists before: true
08-03 23:36:31.234 14457 14486 D AIProcessingService: Entry to append: 
08-03 23:36:31.234 14457 14486 D AIProcessingService: [2025-08-03 23:36:31]
08-03 23:36:31.234 14457 14486 D AIProcessingService: TRANSCRIPTION: I think that God is real because we don't understand consciousness.
08-03 23:36:31.234 14457 14486 D AIProcessingService: AI SUMMARY: The argument presented posits a link between the incomprehensibility of consciousness and the existence of God.  Essentially, the lack of a scientific explanation for consciousness is offered as evidence for a divine creator.
08-03 23:36:31.234 14457 14486 D AIProcessingService: 
08-03 23:36:31.234 14457 14486 D AIProcessingService: ---
08-03 23:36:31.234 14457 14486 D AIProcessingService: File exists, appending to existing file
08-03 23:36:31.234 14457 14486 D AIProcessingService: File exists after: true
08-03 23:36:31.235 14457 14486 D AIProcessingService: File size after: 614 bytes
08-03 23:36:31.235 14457 14486 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:36:31.235 14457 14486 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:36:31.235 14457 14486 D VoiceRecorderService: AI processing completed successfully
 23:30:25.053 14015 14015 D VoiceRecorderService: File can write: true
08-03 23:30:25.053 14015 14015 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Audio file info:
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: File: recording_20250803_233021.wav
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233021.wav
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Size: 96044 bytes
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Duration: 3000 ms
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Exists: true
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Can Read: true
08-03 23:30:25.081 14015 14015 D VoiceRecorderService: Can Write: true
08-03 23:30:26.114 14015 14015 D VoiceRecorderService: Audio playback test result: true
08-03 23:30:26.114 14015 14015 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233021.wav
08-03 23:30:26.114 14015 14015 D VoiceRecorderService: File exists: true, File size: 96044
08-03 23:30:26.115 14015 14043 D VoiceRecorderService: Starting AI processing for recording
08-03 23:30:26.115 14015 14043 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:30:26.115 14015 14043 D AIProcessingService: Audio file: recording_20250803_233021.wav
08-03 23:30:26.115 14015 14043 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233021.wav
08-03 23:30:26.116 14015 14043 D AIProcessingService: Audio file exists: true
08-03 23:30:26.116 14015 14043 D AIProcessingService: Audio file size: 96044
08-03 23:30:26.116 14015 14043 D AIProcessingService: Starting transcription...
08-03 23:30:26.116 14015 14043 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:30:26.116 14015 14043 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:30:26.116 14015 14043 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:30:26.116 14015 14043 D AIProcessingService: Audio file: recording_20250803_233021.wav
08-03 23:30:26.117 14015 14043 D AIProcessingService: Audio file size: 96044 bytes
08-03 23:30:26.117 14015 14043 D AIProcessingService: Content-Type: audio/wav
08-03 23:30:26.119 14015 14043 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:30:26.860 14015 14043 D AIProcessingService: Response received: 200
08-03 23:30:26.863 14015 14043 D AIProcessingService: Whisper API response: {"text":".","usage":{"type":"duration","seconds":3}}
08-03 23:30:26.864 14015 14043 D AIProcessingService: Whisper transcription: .
08-03 23:30:26.866 14015 14043 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:30:26.866 14015 14043 D AIProcessingService: Transcription completed: .
08-03 23:30:26.866 14015 14043 D AIProcessingService: Starting AI summary generation...
08-03 23:30:26.867 14015 14043 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:30:26.874 14015 14043 D AIProcessingService: Sending request to Gemini API...
08-03 23:30:26.875 14015 14043 D AIProcessingService: API key length: 39
08-03 23:30:26.875 14015 14043 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:30:27.504 14015 14080 D AIProcessingService: Gemini API response received successfully
08-03 23:30:27.504 14015 14080 D AIProcessingService: Generated summary: Please provide the text you would like me to summarize.  I need the text to be able to create a summary for you.
08-03 23:30:27.504 14015 14080 D AIProcessingService: AI Summary completed: Please provide the text you would like me to summarize.  I need the text to be able to create a summary for you.
08-03 23:30:27.504 14015 14080 D AIProcessingService: Starting file save...
08-03 23:30:27.504 14015 14080 D AIProcessingService: saveToLocalFile called with transcription: .
08-03 23:30:27.504 14015 14080 D AIProcessingService: saveToLocalFile called with summary: Please provide the text you would like me to summarize.  I need the text to be able to create a summary for you.
08-03 23:30:27.506 14015 14080 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:30:27.506 14015 14080 D AIProcessingService: File exists before: true
08-03 23:30:27.509 14015 14080 D AIProcessingService: Entry to append: 
08-03 23:30:27.509 14015 14080 D AIProcessingService: [2025-08-03 23:30:27]
08-03 23:30:27.509 14015 14080 D AIProcessingService: TRANSCRIPTION: .
08-03 23:30:27.509 14015 14080 D AIProcessingService: AI SUMMARY: Please provide the text you would like me to summarize.  I need the text to be able to create a summary for you.
08-03 23:30:27.509 14015 14080 D AIProcessingService: 
08-03 23:30:27.509 14015 14080 D AIProcessingService: ---
08-03 23:30:27.509 14015 14080 D AIProcessingService: File exists, appending to existing file
08-03 23:30:27.509 14015 14080 D AIProcessingService: File exists after: true
08-03 23:30:27.510 14015 14080 D AIProcessingService: File size after: 1041 bytes
08-03 23:30:27.510 14015 14080 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:30:27.510 14015 14080 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:30:27.510 14015 14080 D VoiceRecorderService: AI processing completed successfully
08-03 23:34:05.264   596  1084 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:34:05.310 14345 14345 D VoiceRecorderService: === RECORDING START ===
08-03 23:34:05.310 14345 14345 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:05.310 14345 14345 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:34:05.310 14345 14345 D VoiceRecorderService: Creating PcmWavRecorder...
08-03 23:34:05.311 14345 14345 D VoiceRecorderService: Starting PcmWavRecorder...
08-03 23:34:05.336 14345 14345 D VoiceRecorderService: PcmWavRecorder start result: true
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{6f340fa 14345:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: 
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: Exception type: SecurityException
08-03 23:34:05.342 14345 14345 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{6f340fa 14345:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:34:05.342 14345 14345 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:34:05.342 14345 14345 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:34:09.561 14345 14345 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:34:09.561 14345 14345 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:34:10.387 14345 14345 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:10.387 14345 14345 D VoiceRecorderService: Final file size: 144044 bytes
08-03 23:34:10.388 14345 14345 D VoiceRecorderService: File exists: true
08-03 23:34:10.388 14345 14345 D VoiceRecorderService: File can read: true
08-03 23:34:10.388 14345 14345 D VoiceRecorderService: File can write: true
08-03 23:34:10.388 14345 14345 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Audio file info:
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: File: recording_20250803_233405.wav
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Size: 144044 bytes
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Duration: 4500 ms
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Exists: true
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Can Read: true
08-03 23:34:10.418 14345 14345 D VoiceRecorderService: Can Write: true
08-03 23:34:11.460 14345 14345 D VoiceRecorderService: Audio playback test result: true
08-03 23:34:11.460 14345 14345 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:11.460 14345 14345 D VoiceRecorderService: File exists: true, File size: 144044
08-03 23:34:11.461 14345 14373 D VoiceRecorderService: Starting AI processing for recording
08-03 23:34:11.461 14345 14373 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:34:11.461 14345 14373 D AIProcessingService: Audio file: recording_20250803_233405.wav
08-03 23:34:11.461 14345 14373 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233405.wav
08-03 23:34:11.462 14345 14373 D AIProcessingService: Audio file exists: true
08-03 23:34:11.462 14345 14373 D AIProcessingService: Audio file size: 144044
08-03 23:34:11.462 14345 14373 D AIProcessingService: Starting transcription...
08-03 23:34:11.463 14345 14373 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:34:11.463 14345 14373 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:34:11.463 14345 14373 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:34:11.463 14345 14373 D AIProcessingService: Audio file: recording_20250803_233405.wav
08-03 23:34:11.463 14345 14373 D AIProcessingService: Audio file size: 144044 bytes
08-03 23:34:11.463 14345 14373 D AIProcessingService: Content-Type: audio/wav
08-03 23:34:11.467 14345 14373 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:34:12.448 14345 14373 D AIProcessingService: Response received: 200
08-03 23:34:12.453 14345 14373 D AIProcessingService: Whisper API response: {"text":"Hello, hello.","usage":{"type":"duration","seconds":5}}
08-03 23:34:12.455 14345 14373 D AIProcessingService: Whisper transcription: Hello, hello.
08-03 23:34:12.457 14345 14373 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:34:12.457 14345 14373 D AIProcessingService: Transcription completed: Hello, hello.
08-03 23:34:12.457 14345 14373 D AIProcessingService: Starting AI summary generation...
08-03 23:34:12.459 14345 14373 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:34:12.464 14345 14373 D AIProcessingService: Sending request to Gemini API...
08-03 23:34:12.464 14345 14373 D AIProcessingService: API key length: 39
08-03 23:34:12.465 14345 14373 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:34:13.298 14345 14374 D AIProcessingService: Gemini API response received successfully
08-03 23:34:13.298 14345 14374 D AIProcessingService: Generated summary: The provided text consists only of the greeting "Hello, hello."  There is no substantive information or main idea to summarize.  The text simply repeats a common greeting.
08-03 23:34:13.298 14345 14374 D AIProcessingService: AI Summary completed: The provided text consists only of the greeting "Hello, hello."  There is no substantive information or main idea to summarize.  The text simply repeats a common greeting.
08-03 23:34:13.298 14345 14374 D AIProcessingService: Starting file save...
08-03 23:34:13.298 14345 14374 D AIProcessingService: saveToLocalFile called with transcription: Hello, hello.
08-03 23:34:13.298 14345 14374 D AIProcessingService: saveToLocalFile called with summary: The provided text consists only of the greeting "Hello, hello."  There is no substantive information or main idea to summarize.  The text simply repeats a common greeting.
08-03 23:34:13.301 14345 14374 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:34:13.302 14345 14374 D AIProcessingService: File exists before: false
08-03 23:34:13.305 14345 14374 D AIProcessingService: Entry to append: 
08-03 23:34:13.305 14345 14374 D AIProcessingService: [2025-08-03 23:34:13]
08-03 23:34:13.305 14345 14374 D AIProcessingService: TRANSCRIPTION: Hello, hello.
08-03 23:34:13.305 14345 14374 D AIProcessingService: AI SUMMARY: The provided text consists only of the greeting "Hello, hello."  There is no substantive information or main idea to summarize.  The text simply repeats a common greeting.
08-03 23:34:13.305 14345 14374 D AIProcessingService: 
08-03 23:34:13.305 14345 14374 D AIProcessingService: ---
08-03 23:34:13.306 14345 14374 D AIProcessingService: File doesn't exist, creating new file
08-03 23:34:13.307 14345 14374 D AIProcessingService: File exists after: true
08-03 23:34:13.308 14345 14374 D AIProcessingService: File size after: 265 bytes
08-03 23:34:13.308 14345 14374 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:34:13.308 14345 14374 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:34:13.308 14345 14374 D VoiceRecorderService: AI processing completed successfully
08-03 23:36:20.742   596  2328 I ActivityManager: Background started FGS: Allowed [callingPackage: com.example.voicerecorderwearos; callingUid: 10083; uidState: TOP ; uidBFSL: [BFSL]; intent: Intent { act=START_RECORDING xflg=0x4 cmp=com.example.voicerecorderwearos/.VoiceRecorderService }; code:PROC_STATE_TOP; tempAllowListReason:<null>; allowWiu:12; targetSdkVersion:34; callerTargetSdkVersion:34; startForegroundCount:0; bindFromPackage:null: isBindService:false]
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: === RECORDING START ===
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: Output file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: External files dir: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: Creating PcmWavRecorder...
08-03 23:36:20.791 14457 14457 D VoiceRecorderService: Starting PcmWavRecorder...
08-03 23:36:20.805 14457 14457 D VoiceRecorderService: PcmWavRecorder start result: true
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: Error initializing PCM WAV recorder
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: java.lang.SecurityException: Starting FGS with type microphone callerApp=ProcessRecord{cb51c19 14457:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Parcel.createExceptionOrNull(Parcel.java:3340)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Parcel.createException(Parcel.java:3324)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3307)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Parcel.readException(Parcel.java:3249)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.IActivityManager$Stub$Proxy.setServiceForeground(IActivityManager.java:7274)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.Service.startForeground(Service.java:776)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:5453)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2647)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Handler.dispatchMessage(Handler.java:110)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Looper.loopOnce(Looper.java:248)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.os.Looper.loop(Looper.java:338)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.ActivityThread.main(ActivityThread.java:9067)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at java.lang.reflect.Method.invoke(Native Method)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:593)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:932)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: Caused by: android.os.RemoteException: Remote stack trace:
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.validateForegroundServiceType(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:125)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundInnerLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:120)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.server.am.ActiveServices.setServiceForegroundLocked(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:51)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at com.android.server.am.ActivityManagerService.setServiceForeground(go/retraceme 9f521befe791e275c604f3c3f456459a49557dc28e096bf72332db765a3d791e:13)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 	at android.app.IActivityManager$Stub.onTransact(IActivityManager.java:3640)
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: 
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: Exception type: SecurityException
08-03 23:36:20.809 14457 14457 E VoiceRecorderService: Exception message: Starting FGS with type microphone callerApp=ProcessRecord{cb51c19 14457:com.example.voicerecorderwearos/u0a83} targetSDK=34 requires permissions: all of the permissions allOf=true [android.permission.FOREGROUND_SERVICE_MICROPHONE] any of the permissions allOf=false [android.permission.CAPTURE_AUDIO_HOTWORD, android.permission.CAPTURE_AUDIO_OUTPUT, android.permission.CAPTURE_MEDIA_OUTPUT, android.permission.CAPTURE_TUNER_AUDIO_INPUT, android.permission.CAPTURE_VOICE_COMMUNICATION_OUTPUT, android.permission.RECORD_AUDIO]  and the app must be in the eligible state/exemptions to access the foreground only permission
08-03 23:36:20.810 14457 14457 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.startRecording(VoiceRecorderService.kt:100)
08-03 23:36:20.810 14457 14457 W System.err: 	at com.example.voicerecorderwearos.VoiceRecorderService.onStartCommand(VoiceRecorderService.kt:51)
08-03 23:36:27.300 14457 14457 D VoiceRecorderService: === RECORDING STOP ===
08-03 23:36:27.300 14457 14457 D VoiceRecorderService: Stopping PCM WAV recorder...
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: Recording stopped: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: Final file size: 208044 bytes
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: File exists: true
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: File can read: true
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: File can write: true
08-03 23:36:27.852 14457 14457 D VoiceRecorderService: === AUDIO FILE TESTING ===
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Audio file info:
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: File: recording_20250803_233620.wav
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Size: 208044 bytes
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Duration: 6500 ms
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Exists: true
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Can Read: true
08-03 23:36:27.878 14457 14457 D VoiceRecorderService: Can Write: true
08-03 23:36:28.914 14457 14457 D VoiceRecorderService: Audio playback test result: true
08-03 23:36:28.914 14457 14457 D VoiceRecorderService: About to start AI processing for file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:28.914 14457 14457 D VoiceRecorderService: File exists: true, File size: 208044
08-03 23:36:28.914 14457 14484 D VoiceRecorderService: Starting AI processing for recording
08-03 23:36:28.914 14457 14484 D AIProcessingService: === AI PROCESSING STARTED ===
08-03 23:36:28.914 14457 14484 D AIProcessingService: Audio file: recording_20250803_233620.wav
08-03 23:36:28.914 14457 14484 D AIProcessingService: Audio file path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/recording_20250803_233620.wav
08-03 23:36:28.914 14457 14484 D AIProcessingService: Audio file exists: true
08-03 23:36:28.914 14457 14484 D AIProcessingService: Audio file size: 208044
08-03 23:36:28.914 14457 14484 D AIProcessingService: Starting transcription...
08-03 23:36:28.915 14457 14484 D AIProcessingService: Starting real audio transcription with OpenAI Whisper...
08-03 23:36:28.915 14457 14484 D AIProcessingService: Audio file is already in WAV format, trying transcription...
08-03 23:36:28.915 14457 14484 D AIProcessingService: === TRANSCRIBING CONVERTED FILE ===
08-03 23:36:28.915 14457 14484 D AIProcessingService: Audio file: recording_20250803_233620.wav
08-03 23:36:28.915 14457 14484 D AIProcessingService: Audio file size: 208044 bytes
08-03 23:36:28.915 14457 14484 D AIProcessingService: Content-Type: audio/wav
08-03 23:36:28.918 14457 14484 D AIProcessingService: Sending request to OpenAI Whisper API...
08-03 23:36:30.324 14457 14484 D AIProcessingService: Response received: 200
08-03 23:36:30.328 14457 14484 D AIProcessingService: Whisper API response: {"text":"I think that God is real because we don't understand consciousness.","usage":{"type":"duration","seconds":7}}
08-03 23:36:30.329 14457 14484 D AIProcessingService: Whisper transcription: I think that God is real because we don't understand consciousness.
08-03 23:36:30.330 14457 14484 D AIProcessingService: Successfully transcribed with WAV format
08-03 23:36:30.330 14457 14484 D AIProcessingService: Transcription completed: I think that God is real because we don't understand consciousness.
08-03 23:36:30.330 14457 14484 D AIProcessingService: Starting AI summary generation...
08-03 23:36:30.331 14457 14484 D AIProcessingService: Creating prompt for Gemini API...
08-03 23:36:30.337 14457 14484 D AIProcessingService: Sending request to Gemini API...
08-03 23:36:30.337 14457 14484 D AIProcessingService: API key length: 39
08-03 23:36:30.337 14457 14484 D AIProcessingService: API key starts with: AIzaSyCCPq...
08-03 23:36:31.226 14457 14486 D AIProcessingService: Gemini API response received successfully
08-03 23:36:31.226 14457 14486 D AIProcessingService: Generated summary: The argument presented posits a link between the incomprehensibility of consciousness and the existence of God.  Essentially, the lack of a scientific explanation for consciousness is offered as evidence for a divine creator.
08-03 23:36:31.227 14457 14486 D AIProcessingService: AI Summary completed: The argument presented posits a link between the incomprehensibility of consciousness and the existence of God.  Essentially, the lack of a scientific explanation for consciousness is offered as evidence for a divine creator.
08-03 23:36:31.227 14457 14486 D AIProcessingService: Starting file save...
08-03 23:36:31.227 14457 14486 D AIProcessingService: saveToLocalFile called with transcription: I think that God is real because we don't understand consciousness.
08-03 23:36:31.227 14457 14486 D AIProcessingService: saveToLocalFile called with summary: The argument presented posits a link between the incomprehensibility of consciousness and the existence of God.  Essentially, the lack of a scientific explanation for consciousness is offered as evidence for a divine creator.
08-03 23:36:31.228 14457 14486 D AIProcessingService: File path: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:36:31.229 14457 14486 D AIProcessingService: File exists before: true
08-03 23:36:31.234 14457 14486 D AIProcessingService: Entry to append: 
08-03 23:36:31.234 14457 14486 D AIProcessingService: [2025-08-03 23:36:31]
08-03 23:36:31.234 14457 14486 D AIProcessingService: TRANSCRIPTION: I think that God is real because we don't understand consciousness.
08-03 23:36:31.234 14457 14486 D AIProcessingService: AI SUMMARY: The argument presented posits a link between the incomprehensibility of consciousness and the existence of God.  Essentially, the lack of a scientific explanation for consciousness is offered as evidence for a divine creator.
08-03 23:36:31.234 14457 14486 D AIProcessingService: 
08-03 23:36:31.234 14457 14486 D AIProcessingService: ---
08-03 23:36:31.234 14457 14486 D AIProcessingService: File exists, appending to existing file
08-03 23:36:31.234 14457 14486 D AIProcessingService: File exists after: true
08-03 23:36:31.235 14457 14486 D AIProcessingService: File size after: 614 bytes
08-03 23:36:31.235 14457 14486 D AIProcessingService: Saved to local file: /storage/emulated/0/Android/data/com.example.voicerecorderwearos/files/voice_summaries.txt
08-03 23:36:31.235 14457 14486 D AIProcessingService: === AI PROCESSING COMPLETED SUCCESSFULLY ===
08-03 23:36:31.235 14457 14486 D VoiceRecorderService: AI processing completed successfully
